(this["webpackJsonpproduct-listing-frontend"]=this["webpackJsonpproduct-listing-frontend"]||[]).push([[16],{661:function(t,e,a){"use strict";e.a=function(t){return void 0===t||null===t||"object"===typeof t&&0===Object.keys(t).length||"string"===typeof t&&0===t.trim().length}},670:function(t,e,a){"use strict";e.a=a.p+"static/media/view.ba2eff2b.svg"},671:function(t,e,a){"use strict";e.a=a.p+"static/media/edit.a2e87322.svg"},672:function(t,e,a){"use strict";e.a=a.p+"static/media/trash.f88bd880.svg"},708:function(t,e,a){"use strict";var n=a(99),r=a.n(n).a.mixin({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});e.a=r},809:function(t,e,a){},844:function(t,e,a){"use strict";a.r(e);var n=a(4),r=a.n(n),i=a(9),c=a(2),s=a.n(c),o=a(660),l=a(659),d=a(710),u=a(26);function p(t){var e=t.name,a=t.selectValueByLabel,n=t.valueByLabel,r=t.value,i=t.onChange,c=t.options;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d.a,{name:e,onChange:i,value:a?c.filter((function(t){return t.label===n})):c.filter((function(t){return t.value===r})),options:c,placeholder:"Select.."})})}var h=a(665),j=a(25),f=a(178),b=a(180),g=a(74),x=a(96),m=a(6);var O=Object(x.b)(null,{setProductList:g.u})(Object(j.h)((function(t){var e=s.a.useState(""),a=Object(o.a)(e,2),n=a[0],c=a[1],d=f.a.getState().product.productList,j=function(){var e=Object(i.a)(r.a.mark((function e(a){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,i=n.signal,console.log(" search data ",a),f.a.dispatch({type:m.o,payload:!0}),e.next=6,Object(b.i)(i,"&title=".concat(a)).then((function(e){e.response.ok?(f.a.dispatch({type:m.o,payload:!1}),t.setProductList(e.json)):(console.log("res[search]",e),f.a.dispatch({type:m.o,payload:!1}))})).catch((function(t){console.log("err[search]",t),f.a.dispatch({type:m.o,payload:!1})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(r.a.mark((function e(a){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(" [prod-filter] ",n,d),i="",s="with variants"===a.label?"yes":"without variants"===a.label?"no":"",i="all"===a.label?"":"&has_variant=".concat(s),f.a.dispatch({type:m.o,payload:!0}),e.next=7,Object(b.f)(i).then((function(e){console.log(" filter values ",e),e.response.ok?(f.a.dispatch({type:m.o,payload:!1}),t.setProductList(e.json)):(f.a.dispatch({type:m.o,payload:!1}),console.log(" filter not success "))})).catch((function(t){throw f.a.dispatch({type:m.o,payload:!1}),console.log("err",t),t}));case 7:c(a.label);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.T,{className:"c-row",children:[Object(u.jsx)(l.k,{md:"2",className:"c-row",children:Object(u.jsxs)("h5",{className:"outside-card-title",children:["All Products(",f.a.getState().product.productList.length||0,")"]})}),Object(u.jsx)(l.k,{md:"4",children:Object(u.jsxs)(l.F,{children:[Object(u.jsx)(l.H,{children:Object(u.jsx)(l.I,{style:{backgroundColor:"#ffffff"},children:Object(u.jsx)(h.a,{name:"cil-magnifying-glass"})})}),Object(u.jsx)(l.D,{onChange:function(t){return j(t.target.value)},placeholder:"Search Product"})]})}),Object(u.jsxs)(l.k,{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},md:"6",children:[Object(u.jsx)("span",{style:{fontSize:"15px",fontWeight:400},children:"Filter by :"}),Object(u.jsx)(l.k,{md:"5",children:Object(u.jsx)(p,{label:"Filter by :",name:"product_filter",value:n,onChange:g,selectValueByLabel:!0,valueByLabel:n,options:[{label:"with variants",value:"with_variant"},{label:"without variants",value:"without_variants"},{label:"all",value:"all"}]})}),Object(u.jsx)(l.k,{md:"4",children:Object(u.jsx)(l.d,{block:!0,color:"warning",onClick:function(){t.history.push("/add-products")},children:Object(u.jsx)("span",{style:{color:"#fff",fontWeight:600},children:"+ \xa0Add Product"})})})]})]})})}))),v=a(761),y=a.n(v),w=a(799),F=a.n(w),k=(a(807),a(670)),C=a(671),L=a(672),P=a(708),A=a(99),_=a.n(A);function D(t){var e=function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P.a.fire().then(function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=3;break}return t.next=3,Object(b.b)(e).then((function(t){if(t.response.ok){var a=f.a.getState().product.productList.filter((function(t){return t.id!==e}));console.log(" filteredProductList ",a),f.a.dispatch({type:m.n,payload:a}),_.a.fire("Deleted!","Product has been deleted.","success")}else _.a.fire("Failed!","Product deletion failed!","error")})).catch((function(t){_.a.fire("Failed!",t.message,"error")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(" del modal err ",t),_.a.fire("Failed!",t.message,"error")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)(l.d,{title:"View Product",children:Object(u.jsx)("img",{src:k.a,alt:"View"})}),Object(u.jsx)(l.d,{onClick:function(){return t.history.push("/products/"+t.id)},title:"Edit Product",children:Object(u.jsx)("img",{src:C.a,alt:"View"})}),Object(u.jsx)(l.d,{onClick:function(){return e(t.id)},title:"Delete Product",children:Object(u.jsx)("img",{src:L.a,alt:"View"})})]})}var S=function(t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h3",{className:"display-5",style:{fontSize:"1em",textAlign:"center",marginTop:"5vh"},children:t.children})})},E=a(661);a(808),a(809);function B(){return Object(u.jsxs)("div",{class:"lds-ring",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})}var T=Object(x.b)((function(t){return{product:t.product}}),{})(Object(j.h)((function(t){var e=[{dataField:"id",text:"#",sort:!0,headerAlign:"left"},{dataField:"image",text:"Image",headerAlign:"center",style:{}},{dataField:"name",text:"Name",sort:!0,headerAlign:"left"},{dataField:"description",text:"Description",headerAlign:"left"},{dataField:"quantity",text:"Quantity",headerAlign:"left"},{dataField:"price",text:"Price",headerAlign:"left"},{dataField:"brand",text:"Brand",headerAlign:"left"},{dataField:"variants",text:"Variants",headerAlign:"left"},{dataField:"actions",text:"Actions",isDummyField:!0,csvExport:!1,formatter:function(e,a){return Object(u.jsx)(D,{history:t.history,id:a.id})}}],a=[{dataField:"id",text:"Id"},{dataField:"name",text:"Name"},{dataField:"sku",text:"SKU"},{dataField:"mpn",text:"MPN"},{dataField:"asin",text:"ASIN"},{dataField:"upc",text:"UPC"},{dataField:"major_weight",text:"Weight-a"},{dataField:"minor_weight",text:"Weight-b"}],n=[];t.product.productList&&t.product.productList.forEach((function(t,e){console.log(" data.images ",t.images,t.title),n.push({id:t.id,image:0!==t.images.length&&t.images[0].image?Object(u.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(u.jsx)("object",{style:{width:"100%",height:"100%"},data:"https://www.saffronwaldenprinting.com/global/images/PublicShop/ProductSearch/prodgr_default_300.png",type:"image/png",children:Object(u.jsx)("img",{src:t.images[0].image.url,style:{width:"100%",height:"100%"}})})}):Object(u.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(u.jsx)("img",{src:"https://www.saffronwaldenprinting.com/global/images/PublicShop/ProductSearch/prodgr_default_300.png",style:{width:"100%",height:"100%"}})}),name:t.title,description:t.short_description,quantity:"-",price:"-",brand:t.brand,variants:t.variants.length||"",actions:"-",variantData:t.variants})}));var r={renderer:function(t){return Object(u.jsxs)(u.Fragment,{children:[console.log(" rooo : ",t.variantData),Object(u.jsx)("br",{}),Object(u.jsx)(y.a,{keyField:"id",data:t.variantData,columns:a,rowClasses:"VariantRow",hover:!0,bordered:!0}),Object(E.a)(t.variantData)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(S,{children:"Variants not available"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})}};return Object(u.jsx)(l.T,{className:"prod-table-container",children:Object(u.jsx)(l.e,{className:"table-card",children:Object(u.jsx)(l.f,{children:Object(u.jsx)(y.a,{keyField:"id",hover:!1,rowClasses:"CustomRow",headerClasses:"HeaderClass",bordered:!1,data:n,columns:e,expandRow:r,wrapperClasses:"table-responsive",noDataIndication:function(){return Object(u.jsx)(u.Fragment,{children:t.product.productTableLoader?Object(u.jsx)(B,{}):Object(u.jsx)(S,{children:"Products not available"})})},pagination:F()()})})})})}))),R=a(124);a(700),e.default=Object(x.b)((function(t){return{settings:t.settings,product:t.product}}),{setProductList:g.u,setLoader:R.a,setDefaults:g.n})((function(t){return s.a.useEffect((function(){window.scrollTo(0,0)})),s.a.useEffect(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.a)(r.a.mark((function e(){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,n=a.signal,t.setDefaults(),f.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!0}),t.setLoader(!0),e.next=7,Object(b.e)(n);case 7:(i=e.sent).response.ok?(t.setLoader(!1),console.log(" fetched product data  ",i.json),t.setProductList(i.json),f.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1})):(t.setLoader(!1),f.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1}));case 9:case"end":return e.stop()}}),e)})))();case 2:case"end":return e.stop()}}),e)}))),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{}),Object(u.jsx)(T,{})]})}))}}]);
//# sourceMappingURL=16.cad3ccf4.chunk.js.map