(this["webpackJsonpproduct-listing-frontend"]=this["webpackJsonpproduct-listing-frontend"]||[]).push([[19],{668:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(187);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(i){c=!0,a=i}finally{try{r||null==s.return||s.return()}finally{if(c)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},670:function(e,t,n){"use strict";n(2);var r=n(666),c=n(179),a=n(16);t.a=function(e){return Object(c.a)(e.children)?Object(a.jsx)("span",{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(r.t,{children:Object(a.jsx)(r.v,{color:"red",style:{color:"red"},children:e.children})})})}},706:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(125),c=function(e){return function(t){t({type:r.b,payload:e})}},a=function(e){return console.log("login",e),function(t){t({type:r.a,payload:e})}},o=function(){return function(e){e({type:r.c})}}},707:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return b}));var r=n(3),c=n.n(r),a=n(8),o=n(185),s=n(99),i=n(181),u=n(182),l=n(13),d=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r,l,d){var j,b,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(" window.navigator.onLine ",window.navigator.onLine),!window.navigator.onLine){e.next=13;break}return j=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o.b).concat(t),{method:n,signal:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,j();case 6:return b=e.sent,e.next=9,b.json();case 9:return p=e.sent,e.abrupt("return",{json:p,response:b});case 13:console.log("the app now is offline okay!"),s.a.dispatch({type:"SET_LOADER",payload:!1}),i.a.fire({icon:"error",title:Object(u.a)("error","You are offline")});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n,r,c,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(l.g,"POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(l.h,"POST",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},844:function(e,t,n){"use strict";n.r(t);var r=n(668),c=n(671),a=n(666),o=n(2),s=n(707),i=n(98),u=n(706),l=n(670),d=n(16);t.default=Object(i.b)((function(e){return{message:e.user.message}}),{loginError:u.a,loginUser:u.b})((function(e){var t=Object(o.useState)(""),n=Object(r.a)(t,2),i=n[0],u=n[1],j=Object(o.useState)(""),b=Object(r.a)(j,2),p=b[0],f=b[1],h=Object(o.useState)(!1),O=Object(r.a)(h,2),x=O[0],m=O[1];return Object(d.jsx)("div",{children:Object(d.jsx)(a.k,{className:"d-flex justify-content-around align-items-center",style:{height:"100vh"},children:Object(d.jsxs)(a.e,{className:"p-5",style:{width:"40rem",backgroundColor:"white",borderRadius:"3%"},children:[Object(d.jsx)(a.f,{children:Object(d.jsxs)(a.t,{onSubmit:function(t){t.preventDefault(),m(!0);var n=(new AbortController).signal;Object(s.a)(n,{email:i,password:p}).then((function(t){var n=t.json;if(t.response.ok){var r=n.key,c=n.user,a=c.id,o=c.email;localStorage.setItem("productListingUserKey",r),e.loginUser({userID:a,email:o,token:r})}else localStorage.removeItem("productListingUserKey"),e.loginError();m(!1)}))},children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(d.jsxs)(a.E,{className:"mb-3",children:[Object(d.jsx)(a.G,{children:Object(d.jsx)(a.H,{children:Object(d.jsx)(c.b,{name:"cil-user"})})}),Object(d.jsx)(a.C,{type:"email",placeholder:"Email",autoComplete:"email",onChange:function(e){return u(e.target.value)},value:i,required:!0})]}),Object(d.jsxs)(a.E,{className:"mb-4",children:[Object(d.jsx)(a.G,{children:Object(d.jsx)(a.H,{children:Object(d.jsx)(c.b,{name:"cil-lock-locked"})})}),Object(d.jsx)(a.C,{type:"password",placeholder:"Password",onChange:function(e){return f(e.target.value)},value:p,required:!0})]}),Object(d.jsxs)(a.S,{children:[Object(d.jsx)(a.j,{xs:"6",children:Object(d.jsx)(a.d,{color:"primary",className:"px-4",type:"submit",disabled:x,children:x?Object(d.jsx)(a.ab,{color:"secondary",size:"sm"}):"Login"})}),Object(d.jsx)(a.j,{xs:"6",className:"text-right",children:Object(d.jsx)(a.J,{className:"px-0",children:"Forgot password?"})})]})]})}),Object(d.jsx)(l.a,{children:e.message})]})})})}))}}]);
//# sourceMappingURL=19.37c65abd.chunk.js.map