(this["webpackJsonpproduct-listing-frontend"]=this["webpackJsonpproduct-listing-frontend"]||[]).push([[9,21],{691:function(e,t,n){"use strict";n(1);var r=n(29),a=n(692),c=n(8),o=function(e){var t=e.name,n=e.label,o=e.placeholder,i=e.require,s=e.labelTag,l=e.type,u=e.onChange,d=e.value,j=e.error,b=e.disabled,p=e.helpText,h=e.secondaryLabel,m=e.secondaryLabelClick,f=e.onBlur,g=e.plaintext;return Object(c.jsxs)(r.u,{className:"mb-4",children:[Object(c.jsxs)(r.I,{htmlFor:t,children:[n," ",s?Object(c.jsx)("small",{children:Object(c.jsx)("code",{children:s})}):null]}),Object(c.jsx)("span",{className:"font-weight-bold text-secondary",style:{float:"right",cursor:"pointer"},onClick:function(){m()},children:h}),Object(c.jsx)(r.C,{type:l,id:t,name:t,onChange:u,value:d,placeholder:o,required:!!i,disabled:b,onBlur:f,plaintext:g}),Object(c.jsx)("p",{className:"small",children:p}),Object(c.jsx)(a.a,{children:j})]})};o.defaultProps={name:"Name",label:"Label",placeholder:"Placeholder here",require:!1,labelTag:!1,disabled:!1,helpText:"",plaintext:!1},t.a=o},692:function(e,t,n){"use strict";n(1);var r=n(29),a=n(65),c=n(8);t.a=function(e){return Object(a.a)(e.children)?Object(c.jsx)("span",{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(r.t,{children:Object(c.jsx)(r.v,{color:"red",style:{color:"red"},children:e.children})})})}},694:function(e,t,n){"use strict";var r=n(85),a=n(197),c=n(29),o=n(1),i=n(8),s=["title","showModal","onClose","size"],l=function(e){var t=e.title,n=e.showModal,l=e.onClose,u=e.size,d=Object(a.a)(e,s),j=Object(o.useState)(!1),b=Object(r.a)(j,2),p=b[0],h=b[1];return Object(o.useEffect)((function(){h(!0)}),[n]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(c.K,{show:p,onClose:function(){return l(!1)},size:u,children:[Object(i.jsx)(c.M,{closeButton:!0,children:Object(i.jsx)(c.N,{children:t})}),Object(i.jsx)(c.L,{children:d.children})]})})};l.defaultProps={size:"lg"},t.a=l},698:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},701:function(e,t,n){"use strict";var r=n(6),a=n(16),c=n.n(a),o=n(710),i=n(30),s=n(85),l=n(711),u=n(1),d=n(713),j=n(703),b=n(698),p=n(704),h=n(8),m={display:"flex",flexDirection:"column",alignItems:"center",borderWidth:3,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",transition:"border .3s ease-in-out"},f={borderColor:"#2196f3"},g={borderColor:"#00e676"},O={borderColor:"#ff1744"},v=function(e){var t=e.placeholder,n=e.padding,a=e.imagePreviewSize,v=e.previewOnSide,x=e.displayFlex,y=e.type,w=e.isSingle,k=e.clearFiles,C=Object(u.useState)([]),P=Object(s.a)(C,2),S=P[0],A=P[1];Object(u.useEffect)((function(){k&&A([])}),[k]);var N=Object(u.useCallback)(function(){var t=Object(i.a)(c.a.mark((function t(n){var r,a,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],a=Object(o.a)(n),t.prev=2,a.s();case 4:if((i=a.n()).done){t.next=10;break}return s=i.value,t.next=8,Object(p.a)(s).then((function(e){console.log("base64:",e),r.push({image:e,type:y})})).catch((function(e){return console.log(e)}));case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),a.e(t.t0);case 15:return t.prev=15,a.f(),t.finish(15);case 18:0!==r.length&&A((function(t){return console.log("base64:2",r),e.setImageFiles(t.concat(r)),t.concat(r)}));case 19:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[]),E=Object(d.a)({onDrop:N,accept:"image/jpeg, image/png"}),I=E.getRootProps,F=E.getInputProps,D=E.isDragActive,_=E.isDragAccept,B=E.isDragReject,M=Object(u.useMemo)((function(){return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},m),D?f:{}),_?g:{}),B?O:{}),{},{padding:"".concat(n,"px")})}),[D,B,_,n]);console.log(" files: ",S);var V=S.map((function(t,n){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{style:{border:"1px dashed #E7E7E7",boxSizing:"border-box",borderRadius:"5px",padding:"1rem",maxHeight:{imagePreviewSize:a},width:"auto",borderWidth:3,borderColor:"#eeeeee",borderStyle:"dashed",marginRight:"1rem"},children:Object(h.jsxs)("div",{class:"d-flex justify-content-between align-items-start",children:[Object(h.jsx)("img",{src:t.image,alt:t.type,height:a}),Object(h.jsx)("img",{src:b.a,alt:"Delete Product",onClick:function(){return function(t){var n=S.filter((function(e,n){return n!==t}));A((function(e){return n})),e.setImageFiles(n)}(n)}})]})})},n)}));return console.log(" product list[iu] ",e.product),Object(u.useEffect)((function(){return function(){S.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[S]),console.log(" Files [image] ",S),Object(h.jsxs)("section",{className:v?"d-flex flex-row-reverse justify-content-end align-items-center":null,children:[w&&1===S.length?null:Object(h.jsxs)("div",Object(r.a)(Object(r.a)({},I({style:M})),{},{className:x?"px-5":"",children:[Object(h.jsx)("input",Object(r.a)({},F())),Object(h.jsxs)("div",{className:x?"d-flex justify-content-around":"",children:[Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(j.a,")"),backgroundRepeat:"no-repeat",width:"94px",height:"94px"},className:x?"px-5":"mx-auto"}),Object(h.jsx)("div",{style:{fontWeight:500,marginBottom:"-1rem",marginTop:"1rem"},className:x?"px-5":"",children:Object(l.a)(t)})]})]})),Object(h.jsx)("aside",{className:"d-flex",style:{overflowX:"auto"},children:V})]})};v.defaultProps={placeholder:"",padding:5,imagePreviewSize:50,previewOnSide:!1,displayFlex:!1,isSingle:!0,clearFiles:!1},t.a=v},702:function(e,t,n){"use strict";var r=n(698),a=n(8),c=function(e){var t=e.image,n=e.alt,c=e.imagePreviewSize,o=e.showPreview_;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{style:{border:"1px dashed #E7E7E7",boxSizing:"border-box",borderRadius:"5px",padding:"1rem",maxHeight:{imagePreviewSize:c},width:c+100,borderWidth:3,borderColor:"#eeeeee",borderStyle:"dashed",marginRight:"1rem"},children:Object(a.jsxs)("div",{class:"d-flex justify-content-between align-items-start",children:[Object(a.jsx)("img",{src:t,alt:n,height:c}),Object(a.jsx)("img",{src:r.a,alt:"Delete Product",onClick:function(){o(!1)}})]})})})};c.defaultProps={imagePreviewSize:100,alt:""},t.a=c},703:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},704:function(e,t,n){"use strict";t.a=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n("Error: ",e)}}))}},706:function(e,t,n){"use strict";n(1);var r=n(8),a=function(e){var t={width:"100%",height:1,backgroundColor:"rgba(0,0,0,0.125)",marginBottom:e.marginBottom,marginTop:e.marginTop};return Object(r.jsx)("div",{children:Object(r.jsx)("div",{style:t})})};a.defaultProps={marginBottom:"1.75rem",marginTop:"1.75rem"},t.a=a},708:function(e,t,n){"use strict";t.a=n.p+"static/media/info.5733e5ae.svg"},709:function(e,t,n){"use strict";n(1);var r=n(29),a=n(735),c=n(692),o=n(8),i=function(e){var t=e.name,n=e.label,i=e.options,s=(e.placeholder,e.onChange),l=e.secondaryLabel,u=e.secondaryLabelClick,d=e.error,j=e.value,b=e.selectValueByLabel,p=e.defaultValueByLabel,h=e.valueByLabel,m=e.defaultValue,f=i.map((function(e){return e.name&&(e.value=e.id,e.label=e.name),e}));console.log("Value by Label: ",h);var g=i.filter((function(e){return e.id===j}));return console.log("Value from checkbox : ",g),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.u,{children:[Object(o.jsx)(r.I,{htmlFor:t,children:n}),Object(o.jsx)("span",{className:"font-weight-bold text-secondary",style:{float:"right",cursor:"pointer"},onClick:function(){u()},children:l}),Object(o.jsx)(a.a,{name:t,defaultValue:b?i.filter((function(e){return e.label===p})):i.filter((function(e){return e.value===m})),onChange:s,options:f,placeholder:g.length>0&&g[0].name||"Select..",value:b?i.filter((function(e){return e.label===h})):i.filter((function(e){return e.value===j}))}),Object(o.jsx)(c.a,{children:d})]})})};i.defaultProps={name:"name",label:"Label",placeholder:"placeholder here...",options:[{id:0,name:"Apple",created:"2019-08-24T14:15:22Z",modified:"2019-08-24T14:15:22Z"},{id:1,name:"Banana",created:"2019-08-24T14:15:22Z",modified:"2019-08-24T14:15:22Z"},{id:2,name:"Cat",created:"2019-08-24T14:15:22Z",modified:"2019-08-24T14:15:22Z"}]},t.a=i},712:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(16),a=n.n(r),c=n(30),o=n(46),i=n(199),s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(o.w+"".concat(n,"/"),"DELETE",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(o.w,"POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(o.w+"".concat(n,"/"),"PATCH",t,r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(o.w+"?paginate=false","GET",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},722:function(e,t,n){"use strict";var r=n(16),a=n.n(r),c=n(30),o=n(6),i=n(85),s=n(197),l=n(1),u=n(29),d=n(691),j=n(701),b=n(77),p=n(690),h=n(113),m=n(114),f=n(65),g=n(692),O=n(715),v=n(702),x=n(8),y=["isModal","_setShowCreateForm","edit","item"],w=function(e){var t=e.isModal,n=e._setShowCreateForm,r=e.edit,b=e.item,p=Object(s.a)(e,y),w=Object(l.useState)(""),k=Object(i.a)(w,2),C=k[0],P=k[1],S=Object(l.useState)(""),A=Object(i.a)(S,2),N=A[0],E=A[1],I=Object(l.useState)({}),F=Object(i.a)(I,2),D=F[0],_=F[1],B=Object(l.useState)(!1),M=Object(i.a)(B,2),V=M[0],R=M[1],T=Object(l.useState)({}),L=Object(i.a)(T,2),U=L[0],G=L[1],K=Object(l.useState)(r),z=Object(i.a)(K,2),W=z[0],q=z[1],H=Object(l.useState)(!1),X=Object(i.a)(H,2),Z=X[0],Q=X[1];Object(l.useEffect)((function(){r&&!Object(f.a)(b)&&(P(b.name),E(b.shortcut_name),_({image:b.logo.encoded,url:b.logo.url}))}),[]);var Y=function(){document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:27}))},J=function(){if(G({}),Object(f.a)(C)&&G((function(e){return Object(o.a)(Object(o.a)({},e),{},{manufacturerName:"Please enter Manufacturer name"})})),Object(f.a)(N)&&G((function(e){return Object(o.a)(Object(o.a)({},e),{},{shortcutName:"Please enter Shortcut Name"})})),Object(f.a)(C)||Object(f.a)(N))return{payload:null,isValid:!1};var e={name:C,shortcut_name:N};return Object(f.a)(D.image)?e.logo="":e.logo=D.image,{payload:e,isValid:!0}},$=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=J(),c=n.payload,!n.isValid){e.next=11;break}if(R(!0),o=new AbortController,i=o.signal,r){e.next=9;break}Object(O.a)(i,c).then((function(e){var t=e.response,n=e.json;if(!t.ok)throw R(!1),n;h.a.fire({icon:"success",title:Object(m.a)("success","Manufacturer created.")}),Q(!0),Y(),Object(O.c)(i).then((function(e){var t=e.response,n=e.json;t.ok&&(p.updateManufacturers(n),R(!1),P(""),E(""))}))})),e.next=11;break;case 9:return e.next=11,Object(O.d)(i,b.id,c).then((function(e){var t=e.json;e.response.ok?(console.log("Request succesfully sent."),h.a.fire({icon:"success",title:Object(m.a)("success","Brand edited.")}),Q(!0),Y(),R(!1),Object(O.c)().then((function(e){var t=e.response,n=e.json;t.ok&&p.updateManufacturers(n)}))):(R(!1),t.non_field_errors&&t.non_field_errors.forEach((function(e){h.a.fire({icon:"warning",title:Object(m.a)("warning",e)})})))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(u.e,{className:t?"px-3":"addpro-custom-card sm-pd mt-4",children:[t?null:Object(x.jsx)("h4",{className:"outside-card-title mb-4 p-2",children:"Add Manufacturer"}),Object(x.jsxs)(u.f,{children:[Object(x.jsxs)(u.P,{class:"d-flex justify-content-evenly align-items-start",children:[Object(x.jsxs)(u.j,{md:"6",children:[Object(x.jsx)(d.a,{label:"Manufacturer name",placeholder:"Enter Manufacturer name here",onChange:function(e){console.log(e.target.value),P(e.target.value)},value:C,error:U.manufacturerName&&U.manufacturerName}),Object(x.jsx)(d.a,{label:"Manufacturer Shortcut Name",placeholder:"Eg. BNSH",onChange:function(e){E(e.target.value)},value:N,error:U.shortcutName&&U.shortcutName})]}),Object(x.jsxs)("div",{className:"ml-5",children:[Object(x.jsx)(u.I,{children:"Logo"}),r&&b&&D.url&&W?Object(x.jsx)(v.a,{image:D.url,alt:b.name,showPreview_:function(e){q(e),_({})}}):Object(x.jsx)(j.a,{placeholder:"<u>Click here</u> to select image <br/><b>OR</b> Drag and drop here",padding:20,imagePreviewSize:150,previewOnSide:!0,displayFlex:!t,type:"MANUFACTURER_IMAGES",clearFiles:Z,setImageFiles:function(e){return function(e){e&&e.length>0?_(e[e.length-1]):_(null)}(e)}}),Object(x.jsx)(g.a,{children:U.logo&&U.logo})]})]}),Object(x.jsxs)(u.P,{children:[Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,variant:"outline",color:"dark",onClick:function(){Y(),n&&n(!1)},children:"Cancel"})}),Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,color:"dark",onClick:$,disabled:V,children:V?Object(x.jsx)(u.X,{color:"secondary",size:"sm"}):"Save"})})]})]})]})})};w.defaultProps={isModal:!1,edit:!1,item:null},t.a=Object(b.b)(null,{updateManufacturers:p.D})(w)},723:function(e,t,n){"use strict";var r=n(16),a=n.n(r),c=n(30),o=n(6),i=n(85),s=n(197),l=n(1),u=n(29),d=n(691),j=n(701),b=n(77),p=n(690),h=n(113),m=n(114),f=n(714),g=n(65),O=n(692),v=n(702),x=n(8),y=["isModal","_setShowCreateForm","edit","item"],w=function(e){var t=e.isModal,n=e._setShowCreateForm,r=e.edit,b=e.item,p=Object(s.a)(e,y),w=Object(l.useState)(""),k=Object(i.a)(w,2),C=k[0],P=k[1],S=Object(l.useState)(""),A=Object(i.a)(S,2),N=A[0],E=A[1],I=Object(l.useState)({}),F=Object(i.a)(I,2),D=F[0],_=F[1],B=Object(l.useState)(!1),M=Object(i.a)(B,2),V=M[0],R=M[1],T=Object(l.useState)({}),L=Object(i.a)(T,2),U=L[0],G=L[1],K=Object(l.useState)(r),z=Object(i.a)(K,2),W=z[0],q=z[1],H=Object(l.useState)(!1),X=Object(i.a)(H,2),Z=X[0],Q=X[1];Object(l.useEffect)((function(){r&&!Object(g.a)(b)&&(P(b.name),E(b.shortcut_name),_({image:b.logo.encoded,url:b.logo.url}))}),[]);var Y=function(){document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:27}))},J=function(){if(G({}),Object(g.a)(C)&&G((function(e){return Object(o.a)(Object(o.a)({},e),{},{brandName:"Please enter Brand name"})})),Object(g.a)(N)&&G((function(e){return Object(o.a)(Object(o.a)({},e),{},{shortcutName:"Please enter Shortcut Name"})})),Object(g.a)(C)||Object(g.a)(N))return{payload:null,isValid:!1};var e={name:C,shortcut_name:N};return Object(g.a)(D.image)?e.logo="":e.logo=D.image,{payload:e,isValid:!0}},$=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=J(),c=n.payload,o=n.isValid,console.log("LOG \ud83d\ude80  ------------------------------------------------------------------------"),console.log("LOG \ud83d\ude80  ~ file: AddBrand.js ~ line 123 ~ submitPayload ~ payload",c),console.log("LOG \ud83d\ude80  ------------------------------------------------------------------------"),!o){e.next=14;break}if(R(!0),i=new AbortController,s=i.signal,r){e.next=12;break}Object(f.a)(s,c).then((function(e){var t=e.response,n=e.json;if(!t.ok)throw R(!1),n;h.a.fire({icon:"success",title:Object(m.a)("success","Brand created.")}),Q(!0),Y(),Object(f.c)().then((function(e){var t=e.response,n=e.json;t.ok?(p.updateBrands(n),R(!1),P(""),E("")):R(!1)}))})),e.next=14;break;case 12:return e.next=14,Object(f.d)(s,b.id,c).then((function(e){var t=e.json;e.response.ok?(console.log("Request succesfully sent."),h.a.fire({icon:"success",title:Object(m.a)("success","Brand edited.")}),Q(!0),Y(),R(!1),Object(f.c)().then((function(e){var t=e.response,n=e.json;t.ok&&p.updateBrands(n)}))):(R(!1),t.non_field_errors&&t.non_field_errors.forEach((function(e){h.a.fire({icon:"warning",title:Object(m.a)("warning",e)})})))}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(u.e,{className:t?"px-3":"addpro-custom-card sm-pd mt-4",children:[t?null:Object(x.jsx)("h4",{className:"outside-card-title mb-4 p-2",children:"Add Brand"}),Object(x.jsxs)(u.f,{children:[Object(x.jsxs)(u.P,{class:"d-flex justify-content-evenly align-items-start",children:[Object(x.jsxs)(u.j,{md:"6",children:[Object(x.jsx)(d.a,{label:"Brand name",placeholder:"Enter Brand name here",onChange:function(e){console.log(e.target.value),P(e.target.value)},value:C,error:U.brandName&&U.brandName}),Object(x.jsx)(d.a,{label:"Brand Shortcut Name",placeholder:"Eg. BNSH",onChange:function(e){E(e.target.value)},value:N,error:U.shortcutName&&U.shortcutName})]}),Object(x.jsxs)("div",{className:"ml-5",children:[Object(x.jsx)(u.I,{children:"Logo"}),r&&b&&D.url&&W?Object(x.jsx)(v.a,{image:D.url,alt:b.name,showPreview_:function(e){q(e),_({})}}):Object(x.jsx)(j.a,{placeholder:"<u>Click here</u> to select image <br/><b>OR</b> Drag and drop here",padding:20,imagePreviewSize:150,previewOnSide:!0,displayFlex:!t,type:"BRAND_IMAGES",setImageFiles:function(e){return function(e){e&&e.length>0?_(e[e.length-1]):_(null)}(e)},clearFiles:Z}),Object(x.jsx)(O.a,{children:U.logo&&U.logo})]})]}),Object(x.jsxs)(u.P,{children:[Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,variant:"outline",color:"dark",onClick:function(){Y(),n&&n(!1)},children:"Cancel"})}),Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,color:"dark",onClick:$,disabled:V,children:V?Object(x.jsx)(u.X,{color:"secondary",size:"sm"}):"Save"})})]})]})]})})};w.defaultProps={isModal:!1,edit:!1,item:null},t.a=Object(b.b)(null,{updateBrands:p.B})(w)},724:function(e,t,n){"use strict";var r=n(16),a=n.n(r),c=n(30),o=n(6),i=n(85),s=n(197),l=n(1),u=n(29),d=n(691),j=n(701),b=n(77),p=n(690),h=n(113),m=n(114),f=n(65),g=n(692),O=n(712),v=n(702),x=n(8),y=["isModal","_setShowCreateForm","edit","item"],w=function(e){var t=e.isModal,n=e._setShowCreateForm,r=e.edit,b=e.item,p=Object(s.a)(e,y),w=Object(l.useState)(!1),k=Object(i.a)(w,2),C=k[0],P=k[1],S=Object(l.useState)(""),A=Object(i.a)(S,2),N=A[0],E=A[1],I=Object(l.useState)(""),F=Object(i.a)(I,2),D=F[0],_=F[1],B=Object(l.useState)(""),M=Object(i.a)(B,2),V=M[0],R=M[1],T=Object(l.useState)(""),L=Object(i.a)(T,2),U=L[0],G=L[1],K=Object(l.useState)(""),z=Object(i.a)(K,2),W=z[0],q=z[1],H=Object(l.useState)(""),X=Object(i.a)(H,2),Z=X[0],Q=X[1],Y=Object(l.useState)({}),J=Object(i.a)(Y,2),$=J[0],ee=J[1],te=Object(l.useState)({}),ne=Object(i.a)(te,2),re=ne[0],ae=ne[1],ce=Object(l.useState)(r),oe=Object(i.a)(ce,2),ie=oe[0],se=oe[1],le=Object(l.useState)(!1),ue=Object(i.a)(le,2),de=ue[0],je=ue[1];Object(l.useEffect)((function(){r&&!Object(f.a)(b)&&(E(b.name),_(b.address),R(b.city),G(b.state),q(b.zip_code),Q(b.phone),ee({image:b.structure_image.encoded,url:b.structure_image.url}))}),[]);var be=function(){document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:27}))},pe=function(){if(ae({}),Object(f.a)(N)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:"Please enter Name"})})),Object(f.a)(D)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:"Please enter address"})})),Object(f.a)(D)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:"Please enter address"})})),Object(f.a)(V)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{city:"Please enter city"})})),Object(f.a)(U)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{state:"Please enter state"})})),Object(f.a)(D)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:"Please enter address"})})),Object(f.a)(W)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{zipCode:"Please enter ZIP code"})})),W.length>10&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{zipCode:"Invalid ZIP code length"})})),Object(f.a)(Z)&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneNumber:"Please enter phone number"})})),Z.length>15&&ae((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneNumber:"Invalid Phone number length"})})),!Object(f.a)(N)&&!Object(f.a)(D)&&!Object(f.a)(V)&&!Object(f.a)(U)&&!Object(f.a)(W)&&W.length<=10&&!Object(f.a)(Z)&&Z.length<=15){var e={name:N,address:D,city:V,state:U,zip_code:W,phone:Z};return Object(f.a)($.image)?e.structure_image="":e.structure_image=$.image,{payload:e,isValid:!0}}return{payload:null,isValid:!1}},he=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=pe(),c=n.payload,!n.isValid){e.next=11;break}if(P(!0),o=new AbortController,i=o.signal,r){e.next=9;break}Object(O.a)(i,c).then((function(e){var t=e.response,n=e.json;if(!t.ok)throw P(!1),n;h.a.fire({icon:"success",title:Object(m.a)("success","Warehouse created.")}),je(!0),be(),Object(O.c)(i).then((function(e){var t=e.response,n=e.json;t.ok?(p.updateWarehouses(n),P(!1),E(""),_(""),R(""),G(""),q(""),Q(""),ee({})):P(!1)}))})),e.next=11;break;case 9:return e.next=11,Object(O.d)(i,b.id,c).then((function(e){var t=e.json;e.response.ok?(console.log("Request succesfully sent."),h.a.fire({icon:"success",title:Object(m.a)("success","Warehouse edited.")}),je(!0),be(),P(!1),Object(O.c)().then((function(e){var t=e.response,n=e.json;t.ok&&p.updateWarehouses(n)}))):(P(!1),t.non_field_errors&&t.non_field_errors.forEach((function(e){h.a.fire({icon:"warning",title:Object(m.a)("warning",e)})})))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(x.jsxs)(u.f,{children:[t?null:Object(x.jsx)(u.P,{children:Object(x.jsx)(u.j,{children:Object(x.jsx)("h4",{className:"font-weight-bold mb-4",children:"Add Warehouse"})})}),Object(x.jsxs)(u.P,{children:[Object(x.jsx)(u.j,{xs:"12",md:"6",children:Object(x.jsx)(d.a,{label:"Warehouse Name",placeholder:"Enter Warehouse name here",onChange:function(e){E(e.target.value)},value:N,error:re.name&&re.name})}),Object(x.jsx)(u.j,{xs:"12",md:"6",children:Object(x.jsx)(d.a,{label:"Address",placeholder:"Enter Warehouse address",onChange:function(e){_(e.target.value)},value:D,error:re.address&&re.address})})]}),Object(x.jsxs)(u.P,{children:[Object(x.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:Object(x.jsx)(d.a,{label:"City",placeholder:"Enter City",onChange:function(e){R(e.target.value)},value:V,error:re.city&&re.city})}),Object(x.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:Object(x.jsx)(d.a,{label:"State",placeholder:"State",onChange:function(e){G(e.target.value)},value:U,error:re.state&&re.state})}),Object(x.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:Object(x.jsx)(d.a,{label:"Zip Code",placeholder:"Zip Code",onChange:function(e){q(e.target.value)},value:W,error:re.zipCode&&re.zipCode})})]}),Object(x.jsx)(u.P,{children:Object(x.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:Object(x.jsx)(d.a,{label:"Phone Number",placeholder:"Enter phone number",onChange:function(e){Q(e.target.value)},value:Z,error:re.phoneNumber&&re.phoneNumber})})}),Object(x.jsx)(u.P,{children:Object(x.jsxs)(u.j,{children:[Object(x.jsx)("h5",{className:"font-weight-bold my-3",children:"Warehouse Structure Image"}),r&&b&&$.url&&ie?Object(x.jsx)(v.a,{image:$.url,alt:b.name,showPreview_:function(e){se(e),ee({})}}):Object(x.jsx)(j.a,{placeholder:"<u>Click here</u> to select image <br/><b>OR</b> Drag and drop here",padding:20,imagePreviewSize:150,previewOnSide:!0,displayFlex:!0,type:"WAREHOUSE_IMAGES",setImageFiles:function(e){return function(e){e&&e.length>0?ee(e[e.length-1]):ee(null)}(e)},clearFiles:de}),Object(x.jsx)(g.a,{children:re.structureImage&&re.structureImage})]})}),Object(x.jsxs)(u.P,{className:"mt-5",children:[Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,variant:"outline",color:"dark",onClick:function(){be(),n&&n(!1)},children:"Cancel"})}),Object(x.jsx)(u.j,{sm:"2",md:"2",children:Object(x.jsx)(u.d,{block:!0,color:"dark",onClick:he,disabled:C,children:C?Object(x.jsx)(u.X,{color:"secondary",size:"sm"}):"Save"})})]})]})})})};w.defaultProps={isModal:!1,edit:!1,item:null},t.a=Object(b.b)(null,{updateWarehouses:p.H})(w)},726:function(e,t,n){"use strict";var r=n(851),a=n(49),c=n(29),o=n(1),i=n(77),s=n(708),l=n(690),u=n(86),d=n(85),j=n(197),b=n(691),p=n(65),h=n(8),m=["record"],f=Object(i.b)((function(e){return{attributeLists:e.group.attributes,errors:e.group.errors}}),{setProductGroupAttributes:l.s})((function(e){var t=e.record,n=Object(j.a)(e,m),r=Object(o.useState)(null),i=Object(d.a)(r,2),s=i[0],l=i[1],f=Object(o.useState)([]),g=Object(d.a)(f,2),O=g[0],v=g[1],x=Object(o.useState)(""),y=Object(d.a)(x,2),w=y[0],k=y[1],C=Object(o.useState)(""),P=Object(d.a)(C,2),S=P[0],A=P[1];return Object(o.useEffect)((function(){if(Object(p.a)(t.values))k("");else{var e=t.values.map((function(e){return e.value})).join(",");console.log("RECORD VALUES",e),k(e)}}),[]),Object(o.useEffect)((function(){if(n.errors&&n.errors.hasOwnProperty(t.id)){var e=n.errors[t.id];e&&e.name&&A(e.name)}}),[n.errors]),Object(o.useEffect)((function(){if(Object(p.a)(w))v([]);else{var e=w.split(",");v(e.map((function(e){return{value:e.trim()}})))}}),[w]),Object(o.useEffect)((function(){var e=n.attributeLists.findIndex((function(e){return e.id===t.id})),r=Object(u.a)(n.attributeLists),a={id:t.id,name:s,values:O};r[e]=a,n.setProductGroupAttributes(r)}),[s,O]),Object(h.jsxs)(c.P,{className:"d-flex align-items-center",children:[Object(h.jsx)(c.j,{md:"5",children:Object(h.jsx)(b.a,{label:"Attribute",placeholder:"Eg. Hard-disk",onChange:function(e){l(e.target.value)},value:t.name,error:S})}),Object(h.jsx)(c.j,{md:"6",children:Object(h.jsx)(b.a,{label:"Possible values",placeholder:"Eg. SSD, HDD",onChange:function(e){k(e.target.value)},value:w})}),Object(h.jsx)(c.j,{md:"1",children:Object(h.jsx)(c.d,{onClick:function(){n.setProductGroupAttributes(n.attributeLists.filter((function(e){return e.id!==t.id})))},children:Object(h.jsx)(a.a,{className:"text-danger",name:"cil-x-circle"})})})]})})),g=function(e){var t=function(){var t={id:Math.floor(1e8*Math.random()+1),name:null,values:[]};e.setProductGroupAttributes(e.attributeLists.concat(t))};return Object(o.useEffect)((function(){e.edit&&t()}),[]),Object(h.jsxs)("div",{children:[e.attributeLists.map((function(t){return Object(h.jsx)(f,{record:t,edit:e.edit})})),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(h.jsx)("div",{children:Object(h.jsxs)(c.d,{className:"mb-0",style:{display:"flex",alignItems:"center"},onClick:t,children:[Object(h.jsx)("div",{style:{marginRight:14},children:Object(h.jsx)(a.b,{content:r.a.cilPlus,size:"lg"})}),"Add Attribute"]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"d-flex align-items-center",style:{marginRight:"5rem"},children:[Object(h.jsx)("img",{src:s.a,alt:"Info",style:{paddingRight:"0.5rem"}}),Object(h.jsx)("span",{children:"Add multiple keyword seperated by \u201c,\u201d comma"})]})})]})]})};g.defaultProps={edit:!1};t.a=Object(i.b)((function(e){return{attributeLists:e.group.attributes}}),{setProductGroupAttributes:l.s})(g)},734:function(e,t,n){"use strict";var r=n(116),a=n.n(r).a.mixin({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});t.a=a},737:function(e,t,n){"use strict";var r=n(85),a=n(197),c=n(29),o=n(1),i=n(77),s=n(707),l=n(691),u=n(690),d=n(113),j=n(114),b=n(65),p=function(e){var t={};return e.attributes.forEach((function(e){var n={};Object(b.a)(e.name)&&(n.name="Please enter attribute name."),Object(b.a)(n)||(t[e.id]=n)})),Object(b.a)(e.name)&&(t.name="Please provide product group name"),t},h=n(726),m=n(8),f=["isModal","_setShowCreateForm"],g=function(e){var t=e.isModal,n=e._setShowCreateForm,i=Object(a.a)(e,f),u=Object(o.useState)(!1),g=Object(r.a)(u,2),O=g[0],v=g[1],x=i.group,y=function(e){document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:27}))};Object(o.useEffect)((function(){i.clearProductGroupName(),i.clearProductGroupAttributes(),i.clearProductGroupError()}),[]);var w=(new AbortController).signal,k=function(e){x.attributes.map((function(e){var t,n=e.name,r=e.values;Object(b.a)(r)?t="text":(0===r.filter((function(e){return""!==e.value})).length&&(t="text"),t="enum");var a={datatype:t,name:n,description:"".concat(x.name," - ").concat(e.name),display_order:1};return"enum"===t&&(a.enum_group={name:n,values:r}),a})).forEach((function(t){Object(s.c)(w,t).then((function(t){var n=t.json;if(t.response.ok){console.log("Product Attribute Created");var r=n.id;!function(e,t){var n={attributeset:e,field:t};Object(s.a)(w,n).then((function(e){var t=e.json;if(e.response.ok)console.log("Field is associated with group"),i.setProductGroupAttributes([]),i.setProductGroupName(""),v(!1),d.a.fire({icon:"success",title:Object(j.a)("success","Product Group created.")}),y(),Object(s.f)().then((function(e){var t=e.response,n=e.json;t.ok&&i.updateProductGroups(n)}));else for(var n in v(!1),t)Object.hasOwnProperty.call(t,n)&&d.a.fire({icon:"warning",title:Object(j.a)("warning",t[n])})})).catch((function(e){throw e}))}(e,r)}else for(var a in v(!1),n)Object.hasOwnProperty.call(n,a)&&d.a.fire({icon:"warning",title:Object(j.a)("warning",n[a])})})).catch((function(e){throw e}))}))},C=function(){var e=function(){if(!Object(b.a)(x.attributes))return{name:x.name};d.a.fire({icon:"warning",title:Object(j.a)("warning","At least one attribute is required.")})}();Object(b.a)(e)?v(!1):Object(s.b)(w,e).then((function(e){var t=e.json;if(e.response.ok){console.log("Product Group Created");var n=t.id;k(n)}else for(var r in v(!1),t)Object.hasOwnProperty.call(t,r)&&d.a.fire({icon:"warning",title:Object(j.a)("warning",t[r])})})).catch((function(e){throw e}))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(c.e,{className:t?"px-3":"addpro-custom-card sm-pd mt-4",children:[t?null:Object(m.jsx)("h4",{className:"outside-card-title mb-4 p-2",children:"Add Group"}),Object(m.jsxs)(c.f,{children:[Object(m.jsx)(l.a,{name:"name",label:"Group name",placeholder:"Enter group name here",onChange:function(e){i.setProductGroupName(e.target.value)},value:i.group.name,error:i.group.errors.name&&i.group.errors.name}),Object(m.jsx)(h.a,{}),Object(m.jsxs)(c.P,{children:[Object(m.jsx)(c.j,{sm:"2",md:"2",children:Object(m.jsx)(c.d,{block:!0,variant:"outline",color:"dark",onClick:function(e){y(),n&&n(!1)},children:"Cancel"})}),Object(m.jsx)(c.j,{sm:"2",md:"2",children:Object(m.jsx)(c.d,{block:!0,color:"dark",onClick:function(){var e=p(x);i.setProductGroupError(e),Object(b.a)(e)&&(v(!0),C())},disabled:O,children:O?Object(m.jsx)(c.X,{color:"secondary",size:"sm"}):"Save"})})]})]})]})})};g.defaultProps={isModal:!1};t.a=Object(i.b)((function(e){return{group:e.group}}),{setProductGroupName:u.u,updateProductGroups:u.E,setProductGroupAttributes:u.s,setProductGroupError:u.t,clearProductGroupError:u.i,clearProductGroupAttributes:u.h,clearProductGroupName:u.j})(g)},759:function(e,t,n){"use strict";n.r(t);var r=n(85),a=n(197),c=n(1),o=n(29),i=n(114),s=n(113),l=n(720),u=n(699),d=n(77),j=n(8),b=["isModal"],p=function(e){var t=e.isModal,n=Object(a.a)(e,b),u=Object(c.useState)(!1),d=Object(r.a)(u,2),p=d[0],h=d[1],m=Object(c.useState)(!1),f=Object(r.a)(m,2),g=f[0],O=f[1];Object(c.useEffect)((function(){n.setLoader(!0),Object(l.a)().then((function(e){var t=e.json;if(e.response.ok){var r=!t.can_user_generate;n.setSKUAutoGeneration(r),O(r)}n.setLoader(!1)}))}),[]);return Object(j.jsx)("div",{children:Object(j.jsx)(o.e,{className:"addpro-custom-card sm-pd",children:Object(j.jsxs)(o.f,{children:[t?null:Object(j.jsx)("h4",{className:"font-weight-bold mb-4",children:"SKU"}),Object(j.jsxs)(o.u,{variant:"checkbox",className:"checkbox",children:[Object(j.jsx)(o.P,{children:Object(j.jsxs)(o.j,{xs:"4",children:[Object(j.jsx)(o.D,{checked:g,id:"autoskugeneration",onChange:function(e){O(e.target.checked)}}),Object(j.jsx)(o.I,{variant:"checkbox",className:"form-check-label",htmlFor:"autoskugeneration",children:"Auto SKU Generation"})]})}),Object(j.jsx)("p",{className:"small",children:"Auto generation wont allow user to input SKU in products."})]}),Object(j.jsx)(o.P,{className:"mt-4",children:Object(j.jsx)(o.j,{sm:"2",md:"2",children:Object(j.jsx)(o.d,{block:!0,color:"dark",onClick:function(){h(!0);var e=(new AbortController).signal,t={can_user_generate:!g};Object(l.b)(e,t).then((function(e){var t=e.json,r=e.response;r.ok?(document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:27})),s.a.fire({icon:"success",title:Object(i.a)("success","SKU Settings saved.")}),console.log(t,r),h(!1),n.setSKUAutoGeneration(!t.can_user_generate)):(s.a.fire({icon:"warning",title:Object(i.a)("warning","Error saving SKU Setting")}),console.log(t,r),h(!1))}))},children:p?Object(j.jsx)(o.X,{color:"secondary",size:"sm"}):"Save"})})})]})})})};p.defaultProps={isModal:!1};t.default=Object(d.b)((function(e){return{sku:e.settings.sku}}),{setSKUAutoGeneration:u.b,setLoader:u.a})(p)},842:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=function(){return"undefined"!==typeof window?window:e},a=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n(144))},852:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n.n(r),c=n(86),o=n(30),i=n(85),s=n(1),l=n.n(s),u=n(29),d=n(77),j=n(690),b=n(691),p=n(709),h=n(737),m=n(722),f=n(723),g=n(694),O=n(8),v=Object(d.b)((function(e){return{productGroups:e.root.productGroups,brands:e.root.brands,manufacturers:e.root.manufacturers,product:e.product}}),{changeProductInput:j.d,updateBrands:j.B,updateManufacturers:j.D,updateProductGroups:j.E})((function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(!1),o=Object(i.a)(c,2),l=o[0],d=o[1],j=Object(s.useState)(!1),v=Object(i.a)(j,2),x=v[0],y=v[1],w=function(t,n){console.log("options[product]",t),e.changeProductInput(n,t.value)};return console.log(" prodddd: ",e),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.u,{className:"mb-4",children:Object(O.jsx)(b.a,{onChange:function(t){return function(t){console.log("event[product]",t),e.changeProductInput(t.target.name,t.target.value)}(t)},value:e.product.productname,name:"productname",label:"Product Name",placeholder:"Product Name e.g Crop tee",error:e.product.errors.productname})}),Object(O.jsxs)(u.P,{children:[Object(O.jsxs)(u.j,{xs:"12",lg:"4",children:[r?Object(O.jsx)(g.a,{title:"Add Group",onClose:a,children:Object(O.jsx)(h.a,{isModal:!0})}):null,Object(O.jsx)(p.a,{onChange:function(e){return w(e,"group")},value:e.product.group,name:"group",label:"Group",placeholder:"Select Group",options:e.productGroups,secondaryLabel:"+ Add Group",secondaryLabelClick:function(e){console.log("Button clicked",r),a(!0)},error:e.product.errors.group})]}),Object(O.jsxs)(u.j,{xs:"12",lg:"4",children:[l?Object(O.jsx)(g.a,{title:"Add Manufacturer",onClose:d,children:Object(O.jsx)(m.a,{isModal:!0})}):null,Object(O.jsx)(p.a,{onChange:function(e){return w(e,"manufacturer")},value:e.product.manufacturer,name:"manufacturer",label:"Manufacturer",placeholder:"Select Manufacturer",options:e.manufacturers,secondaryLabel:"+ Add ManuFacturer",secondaryLabelClick:function(e){console.log("Button clicked",l),d(!0)},error:e.product.errors.manufacturer})]}),Object(O.jsxs)(u.j,{xs:"12",lg:"4",children:[x?Object(O.jsx)(g.a,{title:"Add Brand",onClose:y,children:Object(O.jsx)(f.a,{isModal:!0})}):null,Object(O.jsx)(p.a,{onChange:function(e){return w(e,"brand")},value:e.product.brand,name:"configBrand",label:"Brand",placeholder:"Enter brand name",options:e.brands,secondaryLabel:"+ Add Brand",secondaryLabelClick:function(e){console.log("Button clicked",x),y(!0)},error:e.product.errors.brand})]})]})]})})),x=n(759),y=n(705),w=n(65),k=function(e){var t=e.name,n=e.color,r=e.labelOn,a=e.labelOff,c=e.onChange,o=e.value,i=e.defaultValue,s=e.checked;return console.log(" value [switch] ",o),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{children:Object(O.jsx)("b",{children:a})}),"\xa0 \xa0",Object(O.jsx)(u.Y,{onChange:c,defaultChecked:i,checked:s,value:o,color:n,name:t,shape:"pill",size:"lg"}),"\xa0 \xa0",Object(O.jsx)("span",{children:Object(O.jsx)("b",{children:r})})]})},C=n(720),P=n(113),S=n(114),A=n(699),N=Object(d.b)((function(e){return{product:e.product,autoSKU:e.settings.sku}}),{changeProductInput:j.d,clearProductFieldError:j.g,setProductFieldError:j.r,setSKUAutoGeneration:A.b})((function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],l=function(t){console.log("event[product]",t),e.changeProductInput(t.target.name,t.target.value)},d=function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.product.sku,Object(w.a)(n)){t.next=8;break}return r=new AbortController,c=r.signal,t.next=6,Object(y.c)(c,{sku:n}).then((function(t){var n=t.json;t.response.ok&&((null===n||void 0===n?void 0:n.unique)?e.clearProductFieldError("sku"):e.setProductFieldError("sku","Not unique"))}));case 6:t.next=9;break;case 8:e.setProductFieldError("sku","Required");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.product.asin,Object(w.a)(n)){t.next=6;break}return r=new AbortController,c=r.signal,t.next=6,Object(y.b)(c,{asin:n}).then((function(t){var n=t.json;t.response.ok&&((null===n||void 0===n?void 0:n.unique)?e.clearProductFieldError("asin"):e.setProductFieldError("asin","Not unique"))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.product.upc,Object(w.a)(n)){t.next=6;break}return r=new AbortController,c=r.signal,t.next=6,Object(y.d)(c,{upc:n}).then((function(t){var n=t.json;t.response.ok&&((null===n||void 0===n?void 0:n.unique)?e.clearProductFieldError("upc"):e.setProductFieldError("upc","Not unique"))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.P,{children:[Object(O.jsxs)(u.j,{xs:"12",md:"3",lg:"2",children:[r?Object(O.jsx)(g.a,{title:"Change SKU Setting",onClose:c,children:Object(O.jsx)(x.default,{isModal:!0})}):null,Object(O.jsx)(b.a,{name:"sku",value:e.product.sku,onChange:function(e){return l(e)},label:"SKU",placeholder:"E.g MCK-WPW50-2PK",error:e.product.errors.sku,disabled:e.autoSKU&&!e.edit,helpText:e.autoSKU&&!e.edit?"Auto populated based on your input":null,secondaryLabel:e.edit?null:Object(O.jsx)(k,{labelOn:"A",labelOff:"M",color:"success",value:e.autoSKU,defaultValue:e.autoSKU,checked:e.autoSKU,onChange:function(t){var n=(new AbortController).signal,r={can_user_generate:!t.target.checked};Object(C.b)(n,r).then((function(t){var n=t.json,r=t.response;r.ok?(P.a.fire({icon:"success",title:Object(S.a)("success","SKU Settings saved.")}),e.setSKUAutoGeneration(!n.can_user_generate)):(P.a.fire({icon:"warning",title:Object(S.a)("warning","Error saving SKU Setting")}),console.log(n,r))}))}}),secondaryLabelClick:function(){},onBlur:d})]}),Object(O.jsx)(u.j,{xs:"12",md:"2",children:Object(O.jsx)(b.a,{name:"mpn",label:"MPN",value:e.product.mpn,onChange:function(e){return l(e)},placeholder:"MPN",error:e.product.errors.mpn})}),Object(O.jsx)(u.j,{xs:"12",md:"6",children:Object(O.jsx)(b.a,{name:"upc",label:"UPC",value:e.product.upc,onChange:function(e){return l(e)},placeholder:"UPC",labelTag:"(Must be unique)",error:e.product.errors.upc,onBlur:p})}),Object(O.jsx)(u.j,{xs:"12",md:"2",children:Object(O.jsx)(b.a,{name:"asin",label:"ASIN",value:e.product.asin,onChange:function(e){return l(e)},placeholder:"ASIN",error:e.product.errors.asin,onBlur:j})})]})})})),E=Object(d.b)((function(e){return{isSimpleProduct:e.product.isSimpleProduct}}),{changeProductType:j.e})((function(e){return Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title",children:"Add Product"}),Object(O.jsx)(u.e,{children:Object(O.jsx)(u.f,{children:Object(O.jsxs)("div",{className:"addpro-custom-card",children:[Object(O.jsx)(v,{}),e.isSimpleProduct?Object(O.jsx)(N,{edit:e.edit}):null]})})})]})})})),I=n(0),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D={onActivate:I.func,onAddUndo:I.func,onBeforeAddUndo:I.func,onBeforeExecCommand:I.func,onBeforeGetContent:I.func,onBeforeRenderUI:I.func,onBeforeSetContent:I.func,onBeforePaste:I.func,onBlur:I.func,onChange:I.func,onClearUndos:I.func,onClick:I.func,onContextMenu:I.func,onCopy:I.func,onCut:I.func,onDblclick:I.func,onDeactivate:I.func,onDirty:I.func,onDrag:I.func,onDragDrop:I.func,onDragEnd:I.func,onDragGesture:I.func,onDragOver:I.func,onDrop:I.func,onExecCommand:I.func,onFocus:I.func,onFocusIn:I.func,onFocusOut:I.func,onGetContent:I.func,onHide:I.func,onInit:I.func,onKeyDown:I.func,onKeyPress:I.func,onKeyUp:I.func,onLoadContent:I.func,onMouseDown:I.func,onMouseEnter:I.func,onMouseLeave:I.func,onMouseMove:I.func,onMouseOut:I.func,onMouseOver:I.func,onMouseUp:I.func,onNodeChange:I.func,onObjectResizeStart:I.func,onObjectResized:I.func,onObjectSelected:I.func,onPaste:I.func,onPostProcess:I.func,onPostRender:I.func,onPreProcess:I.func,onProgressState:I.func,onRedo:I.func,onRemove:I.func,onReset:I.func,onSaveContent:I.func,onSelectionChange:I.func,onSetAttrib:I.func,onSetContent:I.func,onShow:I.func,onSubmit:I.func,onUndo:I.func,onVisualAid:I.func},_=F({apiKey:I.string,id:I.string,inline:I.bool,init:I.object,initialValue:I.string,onEditorChange:I.func,outputFormat:I.oneOf(["html","text"]),value:I.string,tagName:I.string,cloudChannel:I.string,plugins:I.oneOfType([I.string,I.array]),toolbar:I.oneOfType([I.string,I.array]),disabled:I.bool,textareaName:I.string,tinymceScriptSrc:I.string,scriptLoading:I.shape({async:I.bool,defer:I.bool,delay:I.number})},D),B=function(e){return"function"===typeof e},M=function(e){return e in D},V=function(e){return e.substr(2)},R=function(e,t,n,r,a){return function(e,t,n,r,a,c,o){var i=Object.keys(a).filter(M),s=Object.keys(c).filter(M),l=i.filter((function(e){return void 0===c[e]})),u=s.filter((function(e){return void 0===a[e]}));l.forEach((function(e){var t=V(e),r=o[t];n(t,r),delete o[t]})),u.forEach((function(n){var a=r(e,n),c=V(n);o[c]=a,t(c,a)}))}(a,e.on.bind(e),e.off.bind(e),(function(t,n){return function(r){var a;return null===(a=t(n))||void 0===a?void 0:a(r,e)}}),t,n,r)},T=0,L=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++T+String(t)},U=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},G=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},K=function(){return{listeners:[],scriptId:L("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},z=function(){var e=K();return{load:function(t,n,r,a,c,o){var i=function(){return function(e,t,n,r,a,c){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n,o.async=r,o.defer=a,o.addEventListener("load",(function e(){o.removeEventListener("load",e),c()})),t.head&&t.head.appendChild(o)}(e.scriptId,t,n,r,a,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0}))};e.scriptLoaded?o():(e.listeners.push(o),e.scriptLoading||(e.scriptLoading=!0,c>0?setTimeout(i,c):i()))},reinitialize:function(){e=K()}}}(),W=n(842),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},X=function(){var e,t,n;return(null===(n=null===(t=null===(e=Object(W.a)())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},Z=function(){return window.InputEvent&&"function"===typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},Q=function(e){function t(t){var n,r,a,c=e.call(this,t)||this;return c.rollbackTimer=void 0,c.valueCursor=void 0,c.rollbackChange=function(){var e=c.editor,t=c.props.value;e&&t&&t!==c.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),c.valueCursor&&(!c.inline||e.hasFocus()))try{e.selection.moveToBookmark(c.valueCursor)}catch(n){}})),c.rollbackTimer=void 0},c.handleBeforeInput=function(e){if(void 0!==c.props.value&&c.props.value===c.currentContent&&c.editor&&(!c.inline||c.editor.hasFocus))try{c.valueCursor=c.editor.selection.getBookmark(3)}catch(t){}},c.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||c.handleBeforeInput(e)},c.handleEditorChange=function(e){var t=c.editor;if(t&&t.initialized){var n=t.getContent();if(void 0!==c.props.value&&c.props.value!==n&&(c.rollbackTimer||(c.rollbackTimer=window.setTimeout(c.rollbackChange,200))),n!==c.currentContent&&(c.currentContent=n,B(c.props.onEditorChange))){var r=c.props.outputFormat,a="html"===r?n:t.getContent({format:r});c.props.onEditorChange(a,t)}}},c.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||c.handleEditorChange(e)},c.initialise=function(e){var t,n,r;void 0===e&&(e=0);var a=c.elementRef.current;if(a)if(function(e){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}(a)){var o=Object(W.a)();if(!o)throw new Error("tinymce should have been loaded into global scope");var i,s,l=H(H({},c.props.init),{selector:void 0,target:a,readonly:c.props.disabled,inline:c.inline,plugins:(i=null===(t=c.props.init)||void 0===t?void 0:t.plugins,s=c.props.plugins,G(i).concat(G(s))),toolbar:null!==(n=c.props.toolbar)&&void 0!==n?n:null===(r=c.props.init)||void 0===r?void 0:r.toolbar,setup:function(e){c.editor=e,c.bindHandlers({}),c.inline&&!U(a)&&e.once("PostRender",(function(t){e.setContent(c.getInitialValue(),{no_events:!0})})),c.props.init&&B(c.props.init.setup)&&c.props.init.setup(e)},init_instance_callback:function(e){var t,n,r=c.getInitialValue();c.currentContent=null!==(t=c.currentContent)&&void 0!==t?t:e.getContent(),c.currentContent!==r&&(c.currentContent=r,e.setContent(r),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var a=null!==(n=c.props.disabled)&&void 0!==n&&n;e.setMode(a?"readonly":"design"),c.props.init&&B(c.props.init.init_instance_callback)&&c.props.init.init_instance_callback(e)}});c.inline||(a.style.visibility=""),U(a)&&(a.value=c.getInitialValue()),o.init(l)}else if(0===e)setTimeout((function(){return c.initialise(1)}),1);else{if(!(e<11))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return c.initialise(e+1)}),100)}},c.id=c.props.id||L("tiny-react"),c.elementRef=s.createRef(),c.inline=null!==(a=null!==(n=c.props.inline)&&void 0!==n?n:null===(r=c.props.init)||void 0===r?void 0:r.inline)&&void 0!==a&&a,c.boundHandlers={},c}return q(t,e),t.prototype.componentDidUpdate=function(e){var t,n,r=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"===typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"===typeof this.props.value&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact((function(){var e;if(!r.inline||a.hasFocus())try{e=a.selection.getBookmark(3)}catch(i){}var t=r.valueCursor;if(a.setContent(r.props.value),!r.inline||a.hasFocus())for(var n=0,c=[e,t];n<c.length;n++){var o=c[n];if(o)try{a.selection.moveToBookmark(o),r.valueCursor=o;break}catch(i){}}}))}if(this.props.disabled!==e.disabled){var c=null!==(n=this.props.disabled)&&void 0!==n&&n;this.editor.setMode(c?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,r,a,c;null!==Object(W.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&z.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(r=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==r&&r,null!==(c=null===(a=this.props.scriptLoading)||void 0===a?void 0:a.delay)&&void 0!==c?c:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(X(),this.handleEditorChange),t.off(Z(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return s.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return s.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+e+"/tinymce.min.js"},t.prototype.getInitialValue=function(){return"string"===typeof this.props.initialValue?this.props.initialValue:"string"===typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){R(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},r=n(e),a=n(this.props);!r&&a?(this.editor.on(X(),this.handleEditorChange),this.editor.on(Z(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):r&&!a&&(this.editor.off(X(),this.handleEditorChange),this.editor.off(Z(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=_,t.defaultProps={cloudChannel:"5"},t}(s.Component),Y=n(692),J=function(e){var t=e.name,n=e.label,r=(e.placeholder,e.require,e.labelTag),a=e.onChange,c=e.value,o=e.error,i=Object(s.useRef)(null);return Object(O.jsxs)(u.u,{className:"mb-4",children:[Object(O.jsxs)(u.I,{htmlFor:t,children:[n," ",r?Object(O.jsx)("small",{children:Object(O.jsx)("code",{children:r})}):null]}),Object(O.jsx)(Q,{apiKey:"ozkdmy1ao6ydfjkidjtogm5tqdmlawz8tifwa7pp36u5mkuj",onInit:function(e,t){return i.current=t},onEditorChange:a,value:c,init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:'body { font-family: "Mulish",Helvetica,Arial,sans-serif; font-size:14px }'}}),Object(O.jsx)(Y.a,{children:o})]})};J.defaultProps={name:"Name",label:"Label",placeholder:"Placeholder here",require:!1,labelTag:!1};var $=Object(d.b)((function(e){return{product:e.product}}),{})(J),ee=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){console.log("products from store[product]",e.product);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Long Description"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsx)(u.f,{children:Object(O.jsx)(u.u,{className:"mb-4",children:Object(O.jsx)($,{onChange:function(t){!function(t){console.log(" description change[product]",t),e.changeProductInput("description",t)}(t)},value:e.product.description,name:"description",label:"Long Description",placeholder:"Detail description about Product",error:e.product.errors.description})})})})]})})})})),te=function(e){var t=e.name,n=e.label,r=e.placeholder,a=e.require,c=e.labelTag,o=e.onChange,i=e.value,s=e.error;return Object(O.jsxs)(u.u,{className:"mb-4",children:[Object(O.jsxs)(u.I,{htmlFor:t,children:[n," ",c?Object(O.jsx)("small",{children:Object(O.jsx)("code",{children:c})}):null]}),Object(O.jsx)(u.Z,{id:t,name:t,onChange:o,value:i,placeholder:r,required:!!a,rows:5}),Object(O.jsx)(Y.a,{children:s})]})};te.defaultProps={name:"Name",label:"Label",placeholder:"Placeholder here",require:!1,labelTag:!1};var ne=te,re=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){return console.log("description change[product]",e.product),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Short Description"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsx)(u.f,{children:Object(O.jsx)(u.u,{className:"mb-4",children:Object(O.jsx)(ne,{onChange:function(t){return function(t){console.log(" description change[product]2",t.target.value),e.changeProductInput(t.target.name,t.target.value)}(t)},value:e.product.short_description,name:"short_description",label:"Short Description",placeholder:"Short description about Product",error:e.product.errors.short_description})})})})]})})})})),ae=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(re,{}),Object(O.jsx)(ee,{})]})},ce=n(706),oe=n(197),ie=n(49),se=["options","record"],le=Object(d.b)((function(e){return{warehouseOptions:e.product.warehouses,errors:e.product.errors}}),{setInventoryWarehouseOptions:j.p})((function(e){var t=e.options,n=e.record,r=Object(oe.a)(e,se),a=Object(s.useState)(null),o=Object(i.a)(a,2),l=o[0],d=o[1],j=Object(s.useState)(0),h=Object(i.a)(j,2),m=h[0],f=h[1],g=Object(s.useState)(""),v=Object(i.a)(g,2),x=v[0],y=v[1],w=Object(s.useState)(""),k=Object(i.a)(w,2),C=k[0],P=k[1];Object(s.useEffect)((function(){d(n.warehouse),f(n.quantity)}),[]),Object(s.useEffect)((function(){if(r.errors.warehouses&&r.errors.warehouses.hasOwnProperty(n.id)){var e=r.errors.warehouses[n.id];e&&e.warehouse&&y(e.warehouse),e&&e.quantity&&P(e.quantity)}}),[r.errors]);Object(s.useEffect)((function(){var e=r.warehouseOptions.findIndex((function(e){return e.id===n.id})),t=Object(c.a)(r.warehouseOptions),a={id:n.id,warehouse:l,quantity:m};t[e]=a,r.setInventoryWarehouseOptions(t)}),[l,m]);return Object(O.jsx)("div",{children:Object(O.jsxs)(u.P,{className:"mb-4 d-flex justify-content-between align-items-center",children:[Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsx)(p.a,{name:"wareHouse",label:"Name",placeholder:"Select Warehouse Name",onChange:function(e){!function(e){d(e.id)}(e)},options:t,error:x,value:n.warehouse})}),Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsx)(b.a,{name:"quanitu",label:"Quantity",placeholder:"Quantity",type:"number",onChange:function(e){!function(e){f(e.target.value)}(e)},error:C,value:n.quantity})}),Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsxs)(u.d,{variant:"outline",type:"reset",size:"sm",color:"danger",onClick:function(){r.setInventoryWarehouseOptions(r.warehouseOptions.filter((function(e){return e.id!==n.id})))},children:[Object(O.jsx)(ie.b,{name:"cil-trash"})," Delete"]})})]})})})),ue=n(724),de=n(851),je=n(708),be=n(712),pe=Object(d.b)((function(e){return{warehouses:e.root.warehouses,warehouseOptions:e.product.warehouses}}),{updateWarehouses:j.H,setInventoryWarehouseOptions:j.p})((function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1];Object(s.useEffect)((function(){Object(be.c)().then((function(t){var n=t.response,r=t.json;n.ok&&e.updateWarehouses(r)}))}),[]);return Object(O.jsxs)("div",{children:[Object(O.jsx)(ce.a,{}),Object(O.jsxs)("div",{className:"mb-4",children:[r?Object(O.jsx)(g.a,{title:"Add Warehouse",onClose:a,size:"xl",children:Object(O.jsx)(ue.a,{isModal:!0})}):null,Object(O.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(O.jsx)("h4",{style:{color:"black"},children:"Warehouse"}),Object(O.jsx)("div",{className:"font-weight-bold text-secondary ml-5",style:{cursor:"pointer"},onClick:function(){a(!0)},children:"+ Add Warehouse"})]}),Object(O.jsxs)("p",{style:{fontSize:16,color:"rgba(0,0,0,0.5)"},className:"d-flex align-items-center",children:[Object(O.jsx)("img",{src:je.a,alt:"Info",style:{paddingRight:"0.5rem"}}),"Inventory can be set to multiple warehouses"]})]}),e.warehouseOptions.map((function(t){return Object(O.jsx)(le,{options:e.warehouses,record:t})})),Object(O.jsx)(ce.a,{}),Object(O.jsxs)(u.d,{className:"mb-0",style:{display:"flex",alignItems:"center"},onClick:function(){if(e.warehouseOptions.length!==e.warehouses.length){var t={id:Math.floor(1e8*Math.random()+1),warehouse:null,quantity:""};e.setInventoryWarehouseOptions([].concat(Object(c.a)(e.warehouseOptions),[t]))}else P.a.fire({icon:"warning",title:Object(S.a)("warning","Can't add more warehouse options. The available warehouses is ".concat(e.warehouses.length))})},children:[Object(O.jsx)("div",{style:{marginRight:14},children:Object(O.jsx)(ie.b,{content:de.a.cilPlus,size:"lg"})}),"Add Another Warehouse"]})]})})),he=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d,setInventoryWarehouseOptions:j.p})((function(e){var t=function(t,n){console.log("Options name: ",n),console.log("options[product]",t),e.changeProductInput(n.name,t.value)};return Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Inventory Control"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsxs)(u.f,{children:[Object(O.jsx)(u.P,{className:"mb-3",children:Object(O.jsx)(u.j,{md:"4",xs:"12",children:Object(O.jsx)(p.a,{label:"Inventory Type",placeholder:"Select Type",name:"inventoryType",options:[{id:"PHYSICAL",name:"Physical"},{id:"VIRTUAL",name:"Virtual"},{id:"DROPSHIP",name:"Dropship"}],onChange:t,value:e.product.inventoryType,error:e.product.errors.inventoryType})})}),Object(O.jsx)(ce.a,{}),Object(O.jsx)(u.P,{children:Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsxs)(u.u,{variant:"checkbox",className:"checkbox",children:[Object(O.jsx)(u.D,{id:"manage_stock",name:"manage_stock",onChange:function(t){e.changeProductInput(t.target.name,t.target.checked),t.target.checked?e.changeProductInput("stockType","OWN_STOCK"):e.changeProductInput("stockType","NONE")},checked:e.product.manage_stock}),Object(O.jsx)(u.I,{variant:"checkbox",className:"form-check-label",htmlFor:"manage_stock",children:"Manage Stock"})]})})}),e.product.manage_stock?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.P,{className:"mt-4",children:Object(O.jsx)(u.j,{md:"4",xs:"12",children:Object(O.jsx)(p.a,{label:"Stock Type",placeholder:"Select Type",name:"stockType",options:[{id:"OWN_STOCK",name:"Own Stock"},{id:"VENDOR_STOCK",name:"Vendor Stock"},{id:"OWN_AND_VENDOR_STOCK",name:"Own and Vendor Stock"}],onChange:t,value:e.product.stockType})})}),Object(O.jsx)(pe,{setWarehouse:function(t){e.setWarehouse(t)},curretWarehouses:e.product.warehouses,edit:e.edit})]}):null]})})]})})})),me=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){var t="KG",n=function(t){console.log(" description change[product]2",t.target.value),e.changeProductInput(t.target.name,t.target.value)},r=function(n){e.changeProductInput(n.target.name,function(e){return e.target.checked?t:"LB"}(n))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.P,{className:"mb-4",children:[Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsx)(b.a,{value:e.product.major_weight,onChange:function(e){return n(e)},name:"major_weight",label:"Major Weight",placeholder:"Major Weight",type:"number",step:"any",error:e.product.errors.major_weight})}),Object(O.jsx)(u.j,{xs:"4",children:Object(O.jsx)(b.a,{value:e.product.minor_weight,onChange:function(e){return n(e)},name:"minor_weight",label:"Minor Weight",placeholder:"Minor Weight",type:"number",step:"any",error:e.product.errors.minor_weight})}),Object(O.jsx)(u.j,{xs:"4",className:"d-flex align-items-center",children:Object(O.jsx)(k,{onChange:function(e){return r(e)},color:"secondary",labelOn:t,labelOff:"LB",value:e.product.weight_name===t?1:0,defaultValue:e.product.weight_name===t?1:0,checked:e.product.weight_name===t,name:"weight_name"})})]})})})),fe=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){var t="CM",n="INCH",r=function(t){e.changeProductInput(t.target.name,t.target.value)},a=function(r){console.log(" e.target ",r.target),e.changeProductInput(r.target.name,function(e){return e.target.checked?t:n}(r))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.P,{className:"mb-4",children:[Object(O.jsx)(u.j,{xs:"3",children:Object(O.jsx)(b.a,{name:"height",label:"Height",placeholder:"Height",type:"number",step:"any",value:e.product.height,error:e.product.errors.height,onChange:function(e){return r(e)}})}),Object(O.jsx)(u.j,{xs:"3",children:Object(O.jsx)(b.a,{name:"width",label:"Width",placeholder:"Width",type:"number",step:"any",value:e.product.width,error:e.product.errors.width,onChange:function(e){return r(e)}})}),Object(O.jsx)(u.j,{xs:"3",children:Object(O.jsx)(b.a,{name:"length",label:"Length",placeholder:"Length",type:"number",step:"any",value:e.product.length,error:e.product.errors.length,onChange:function(e){return r(e)}})}),Object(O.jsx)(u.j,{xs:"3",className:"d-flex align-items-center",children:Object(O.jsx)(k,{color:"secondary",labelOn:t,labelOff:n,value:e.product.dimension_name===t?1:0,defaultValue:e.product.dimension_name===t?1:0,checked:e.product.dimension_name===t,name:"dimension_name",onChange:function(e){return a(e)}})})]})})})),ge=Object(d.b)((function(e){return{weightName:e.product.weight_name,dimensionName:e.product.dimension_name}}),null)((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Measurement"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsxs)(u.f,{children:[Object(O.jsxs)(u.i,{children:["Weight ( ",e.weightName," )"]}),Object(O.jsx)(me,{}),Object(O.jsxs)(u.i,{children:["Dimensions ( ",e.dimensionName," )"]}),Object(O.jsx)(fe,{})]})})]})})})})),Oe=n(701),ve=n(6),xe=n(710),ye=n(711),we=n(713),ke=n(703),Ce=n(698),Pe=n(704),Se={display:"flex",flexDirection:"column",alignItems:"center",borderWidth:3,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",transition:"border .3s ease-in-out"},Ae={borderColor:"#2196f3"},Ne={borderColor:"#00e676"},Ee={borderColor:"#ff1744"},Ie=function(e){var t=e.placeholder,n=e.padding,r=e.imagePreviewSize,c=e.previewOnSide,i=e.displayFlex,l=e.type,u=e.isSingle;console.log(" imggg ",e.imageFiles);var d=Object(s.useCallback)(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,c,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],c=Object(xe.a)(n),t.prev=2,c.s();case 4:if((o=c.n()).done){t.next=10;break}return i=o.value,t.next=8,Object(Pe.a)(i).then((function(e){console.log("base64:",e),r.push({image:{encoded:e,url:e},type:l})})).catch((function(e){return console.log(e)}));case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),c.e(t.t0);case 15:return t.prev=15,c.f(),t.finish(15);case 18:console.log(" imageFiles ondrop [imagee] ",e.imageFiles,r),0!==r.length&&(e.update?(e.setImages(r),e.setImageFiles(r,"variant-update")):(e.setImages(r),e.setImageFiles(r,"add")));case 20:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),[]),j=Object(we.a)({onDrop:d,accept:"image/jpeg, image/png"}),b=j.getRootProps,p=j.getInputProps,h=j.isDragActive,m=j.isDragAccept,f=j.isDragReject,g=Object(s.useMemo)((function(){return Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)({},Se),h?Ae:{}),m?Ne:{}),f?Ee:{}),{},{padding:"".concat(n,"px")})}),[h,f,m,n]),v=e.imageFiles.map((function(t,n){return Object(O.jsxs)(O.Fragment,{children:[console.log("imggg2",t.image.encoded),Object(O.jsx)("div",{children:Object(O.jsx)("div",{style:{border:"1px dashed #E7E7E7",boxSizing:"border-box",borderRadius:"5px",padding:"1rem",maxHeight:{imagePreviewSize:r},width:"auto",borderWidth:3,borderColor:"#eeeeee",borderStyle:"dashed",marginRight:"1rem"},children:Object(O.jsxs)("div",{class:"d-flex justify-content-between align-items-start",children:[Object(O.jsx)("img",{src:t.image.encoded,alt:t.type,height:r}),Object(O.jsx)("img",{src:Ce.a,alt:"Delete Product",onClick:function(){return function(t){if(e.update)e.setImageFiles([],"variant-delete");else{var n=e.imageFiles.filter((function(e,n){return n!==t}));e.setImages(n,"delete"),console.log("new image files :",n),e.setImageFiles(n,"delete")}}(n)}})]})})},n)]})}));return Object(s.useEffect)((function(){return function(){e.imageFiles.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[e.imageFiles]),Object(O.jsxs)("section",{className:c?"d-flex flex-row-reverse justify-content-end align-items-center":null,children:[u&&1===e.imageFiles.length?null:Object(O.jsxs)("div",Object(ve.a)(Object(ve.a)({},b({style:g})),{},{className:i?"px-5":"",children:[Object(O.jsx)("input",Object(ve.a)({},p())),Object(O.jsxs)("div",{className:i?"d-flex justify-content-around":"",children:[Object(O.jsx)("div",{style:{backgroundImage:"url(".concat(ke.a,")"),backgroundRepeat:"no-repeat",width:"94px",height:"94px"},className:i?"px-5":"mx-auto"}),Object(O.jsx)("div",{style:{fontWeight:500,marginBottom:"-1rem",marginTop:"1rem"},className:i?"px-5":"",children:Object(ye.a)(t)})]})]})),Object(O.jsx)("aside",{className:"d-flex",style:{overflowX:"auto"},children:v})]})};Ie.defaultProps={placeholder:"",padding:5,imagePreviewSize:50,previewOnSide:!1,displayFlex:!1,isSingle:!0};var Fe=Object(d.b)((function(e){return{productImages:e.product.images}}),{setProductImageFiles:j.w})(Ie),De=Object(d.b)((function(e){return{product:e.product}}),{setProductImageFiles:j.w,updateProductImageFile:j.F})((function(e){return console.log(" iamges[imagee] ",e.product.images),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Images"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsxs)(u.f,{children:[Object(O.jsx)(u.h,{style:{fontWeight:600,fontSize:"1.25rem"},children:"Add Product Image"}),Object(O.jsx)("div",{style:{border:"1px solid #DFE0EB",boxSizing:"border-box",borderRadius:"8px",borderStyle:"solid",padding:"1rem",borderWidth:"1px"},children:Object(O.jsx)(u.u,{style:{marginBottom:0},children:e.edit?Object(O.jsx)(Fe,{type:"PRODUCT_IMAGES",setImageFiles:function(t,n){return function(t,n){console.log(" type[imagee] ",n),"add"===n?(console.log("add[imagee]"),e.updateProductImageFile(t)):e.setProductImageFiles(t)}(t,n)},placeholder:"<u>Click here</u> to select image <br/><b>OR</b> Drag and drop here",padding:50,imageFiles:e.imageFiles,setImages:e.setImages,imagePreviewSize:200,previewOnSide:!0,isSingle:!1}):Object(O.jsx)(Oe.a,{type:"PRODUCT_IMAGES",setImageFiles:function(t){return function(t){e.setProductImageFiles(t)}(t)},placeholder:"<u>Click here</u> to select image <br/><b>OR</b> Drag and drop here",padding:50,currentImages:e.product.images,imagePreviewSize:200,previewOnSide:!0,isSingle:!1})})})]})})]})})})})),_e=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){var t=function(t){console.log(" meta description change[meta]",t.target.name," : ",t.target.value),e.changeProductInput(t.target.name,t.target.value)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Meta Description (Optional)"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsx)(u.f,{children:Object(O.jsxs)(u.u,{className:"mb-4",children:[Object(O.jsx)(b.a,{value:e.product.mtitle,onChange:function(e){t(e)},name:"mtitle",label:"Title",placeholder:"Meta title of product",error:e.product.errors.mtitle}),Object(O.jsx)(ne,{onChange:function(e){t(e)},value:e.product.mdescription,name:"mdescription",label:"Description",placeholder:"Short meta description about product",error:e.product.errors.mdescription}),Object(O.jsx)(b.a,{onChange:function(e){t(e)},value:e.product.mkeyword,name:"mkeyword",label:"Keywords",placeholder:"Keyword e.g. furniture, wood, chair",error:e.product.errors.mkeyword}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{src:je.a,alt:"Info",style:{paddingRight:"0.5rem"}}),Object(O.jsx)("span",{children:"Add multiple keyword seperated by \u201c,\u201d comma"})]})]})})})]})})})})),Be=function(e){var t=e.content;return Object(O.jsx)("div",{style:{minHeight:"50px"},className:"d-flex justify-content-between align-items-center",children:Object(O.jsx)("p",{style:{color:"#8A8A8A",fontSize:"18px"},children:t})})},Me=n(63),Ve=Object(d.b)((function(e){return{product:e.product}}),{addProductVariant:j.a,setProductErrors:j.q})((function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1];return console.log(" variantsData :[var] ",e.product.varientsData),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"font-weight-bold mb-4",children:"Add New Field"}),Object(O.jsx)(b.a,{onChange:function(e){return a(e.target.value)},value:r,name:"attributeName",placeholder:"Eg: color",label:"Field Name",require:!0,error:e.product.errors.new_variant}),Object(O.jsxs)(u.P,{children:[Object(O.jsx)(u.j,{sm:"2",md:"2",children:Object(O.jsx)(u.d,{onClick:function(){return e.setAddVariantAttribute(!1)},block:!0,variant:"outline",color:"dark",children:"Cancel"})}),Object(O.jsx)(u.j,{sm:"2",md:"2",children:Object(O.jsx)(u.d,{onClick:function(){return function(){console.log("current variant [variant] ",e.product.variant);var t=Object(c.a)(e.product.variant);t.push(r);var n=Object(c.a)(e.product.variantModel),o=Object(c.a)(e.product.varientsData),i=[];0!==o.length&&o.forEach((function(e){i.push(Object(ve.a)(Object(ve.a)({},e),{},Object(Me.a)({},r,"")))})),console.log(" newly added [var] ",i);var s=n.find((function(e){return e===r}));console.log(" varisnt exists [variant] ",s);var l=Object(ve.a)({},e.product.errors);s?(console.log("variant already exist [variant]"),l=Object(ve.a)(Object(ve.a)({},l),{},{new_variant:"Variant already exist!"}),e.setProductErrors(l)):0!==r.length?(l=Object(ve.a)(Object(ve.a)({},l),{},{new_variant:""}),e.setProductErrors(l),n.splice(2,0,"".concat(r)),e.addProductVariant(n,t,i),a("")):(l=Object(ve.a)(Object(ve.a)({},l),{},{new_variant:"Cant submit empty variant"}),e.setProductErrors(l),console.log(" validation error [variant] "))}()},block:!0,color:"dark",children:"Add"})})]})]})})),Re=n(716),Te=n(755),Le=n(116),Ue=n.n(Le),Ge=n(734),Ke=Object(d.b)((function(e){return{product:e.product,settings:e.settings}}),{onVariantValueChange:j.k,removeVarient:j.m,changeProductInput:j.d})((function(e){var t=e.symbol,n=e.state;console.log(" imageFiles [var-img]",e.imageFiles);return console.log("[var-img]",e.product.varientsData),console.log(" varientsData: ",e.product.varientsData,e.product.variantModel),console.log(" props.edit ",e.edit),Object(O.jsx)("div",{children:Object(O.jsx)(u.P,{className:"variant-attributes",children:e.product.variantModel&&Object(c.a)(e.product.variantModel).map((function(r,c){r=r.split("_").join(" ").toLowerCase();Object.keys(n);var i=Object.values(n);console.log(" dataModals [var-test] ",r),console.log(" variant value[var-test] ",e.product.variant),console.log(" state keys :[edit] ",n),console.log(" state keys :val ",i);var s={};e.product.variantErrors&&e.product.variantErrors.forEach((function(e,t){e.id===n.id&&(s=e)})),console.log(" error msg : ",s);var l="name"===r?n.name:"sku"===r?n.sku:"mpn"===r?n.mpn:"upc"===r?n.upc:"asin"===r?n.asin:"major weight"===r?n.major_weight:"minor weight"===r?n.minor_weight:"cost"===r?n.cost:"price"===r?n.price:"id"===r?n.id:"image"===r?n.image&&n.image[0]&&n.image[0].url:e.product.variant.forEach((function(e){return console.log(" inside variant[var-tests] ",r,e),r===e?(console.log("resolve[var-tests]",Object(Re.a)(r,n)),Object(Re.a)(r,n)):""}));return console.log(" valueee here [var-tests] ",l),"id"===r?Object(O.jsxs)(u.j,{md:"1",className:"text-bold d-flex flex-row ",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(O.jsx)("div",{style:{paddingRight:"5px"},children:t}),Object(O.jsx)(Te.b,{name:"remove-variant-row",style:{fontSize:"40px",color:"#E76154",cursor:"pointer",borderLeftStyle:"solid",paddingLeft:"5px",borderLeftWidth:"2px",borderColor:"rgba(0,0,0,0.3)"},onClick:function(){return function(t){if(e.edit&&!n.new)Ge.a.fire().then(function(){var n=Object(o.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=3;break}return n.next=3,Object(y.f)(t).then((function(n){if(n.response.ok){var r=e.product.varientsData.filter((function(e){return e.id!==t}));console.log(" filteredData : ",r),e.removeVarient(r),Ue.a.fire("Deleted!","Your file has been deleted.","success")}else Ue.a.fire("Failed!","Variant deletion failed!","error")})).catch((function(e){Ue.a.fire("Failed!",e.message,"error")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log(" del modal err ",e),Ue.a.fire("Failed!",e.message,"error")}));else{var r=e.product.varientsData.filter((function(e){return e.id!==t}));console.log(" filteredData : ",r),e.removeVarient(r)}}(n.id)}})]}):"image"===r?Object(O.jsx)(u.j,{className:"variant-image",children:e.edit?Object(O.jsx)(Fe,{type:"PRODUCT_VARIANT_IMAGE",update:!0,setImageFiles:function(t,r){return function(t,n,r){console.log(" variant image [var-img] ",t,n),"add"===n?(e.setVariantImage(t),e.onVariantValueChange("image",{image:t[0].image.encoded,url:t[0].image.url},r)):(console.log("var update",t),e.onVariantValueChange("image",t,r))}(t,r,n.id)},imageFiles:n.image,setImages:e.setVariantImage}):Object(O.jsx)(Oe.a,{type:"PRODUCT_VARIANT_IMAGE",setImageFiles:function(t){return function(t,n){console.log(" variant image : variant id : ",t," : ",n),e.onVariantValueChange("image",t,n)}(t,n.id)}})}):Object(O.jsxs)(u.j,{children:[Object(O.jsx)(u.C,{disabled:"sku"===r&&!e.edit&&e.settings.sku,onChange:function(t){return function(t,n){e.onVariantValueChange(t.target.name,t.target.value,n)}(t,n.id)},value:l,placeholder:"sku"===r&&e.settings.sku&&!e.edit?"*auto":"".concat(r.toLowerCase()),name:"".concat(r.toLowerCase().split(" ").join("_")),type:"major weight"===r||"minor weight"===r||"cost"===r||"price"===r?"number":null}),Object(O.jsx)(Y.a,{children:"sku"===r?s.sku:"mpn"===r?s.mpn:"name"==r?s.name:"major weight"===r?s.major_weight:"minor weight"===r?s.minor_weight:""})]})}))})})})),ze=Object(d.b)((function(e){return{product:e.product}}),{addProductVariant:j.a,addVriantProductState:j.b})((function(e){var t=Object(s.useState)({}),n=Object(i.a)(t,2),r=(n[0],n[1],Object(s.useState)(0)),a=Object(i.a)(r,2),o=(a[0],a[1]),l=Object(s.useState)([]),d=Object(i.a)(l,2),j=d[0],b=d[1];console.log(" variant form state : ",j);console.log(" variantsData :[var] ",e.product.varientsData);Object(s.useEffect)((function(){console.log(" inside use effect [variant] ",e.product.variant),b(Object(c.a)(e.product.variant)),o((function(e){return e+1}))}),[e.product.variant]);return console.log(" varient data [variant] ",e.product.varientsData),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.P,{children:Object(O.jsx)(u.j,{xs:"12",md:"12",className:"mb-4",children:Object(O.jsx)(u.e,{className:e.product.variant.length>0||e.edit&&0!==e.product.varientsData.length?"addpro-custom-card sm-pd":"",children:e.product.variant.length>0||e.edit&&0!==e.product.varientsData.length?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.f,{children:[Object(O.jsxs)(u.u,{className:"mb-4 variant-form-table",children:[Object(O.jsx)(u.P,{style:{fontWeight:"bold"},children:Object(c.a)(e.product.variantModel).map((function(e){return console.log(" data[varmod] ",e),Object(O.jsx)(u.j,{className:"mb-3",children:e?"id"===e?"#":e.charAt(0).toUpperCase()+e.slice(1):"ID"===e?"#":e})}))}),Object(O.jsx)("div",{className:"divider"}),Object(c.a)(e.product.varientsData).map((function(t,n){return Object(O.jsxs)("div",{children:[console.log(" variant data here ",t),Object(O.jsx)(Ke,{variantImage:e.variantImage,setVariantImage:e.setVariantImage,edit:e.edit,state:t,symbol:n+1,removeRecord:function(e){!function(e){var t=j.filter((function(t){return t.id!==e}));b(t),o((function(e){return e-1}))}(e)}}),Object(O.jsx)(ce.a,{marginBottom:"0.8rem",marginTop:"0.8rem"})]},n)}))]}),Object(O.jsx)("div",{className:"d-flex justify-content-around",children:Object(O.jsx)(u.d,{color:"light",onClick:function(){var t=e.product.varientsData;console.log(" productVarientData [var]",t);for(var n=e.product.variantModel.map((function(e){return e.toLowerCase().split(" ").join("_")})),r={},a=0,c=n.length;a<c;a+=1)console.log(" vava [newvar]",n[a]),"image"===n[a]?r[n[a]]=[]:r[n[a]]=Object(Re.a)(n[a],e.product)||"";t.push(Object(ve.a)(Object(ve.a)({},r),{},{new:!0,id:Math.floor(100*Math.random()+1)})),e.addVriantProductState(t),o((function(e){return e+1}))},children:Object(O.jsx)("span",{style:{color:"#17171A",fontWeight:600},children:"+ \xa0Add New Row"})})})]})}):null})})})})})),We=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title",children:"Variants"}),Object(O.jsx)("p",{className:"mb-4",children:"Add variants like different sizes or colors."}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsxs)(u.f,{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsx)("div",{children:Object(O.jsx)("h5",{className:"font-weight-bold",children:"Add variant fields"})}),Object(O.jsx)("div",{children:Object(O.jsx)(u.d,{block:!0,color:"warning",onClick:function(e){a(!0)},children:Object(O.jsx)("p",{style:{margin:"0",color:"white",fontWeight:"bold"},children:"+ \xa0 Add variant Field"})})})]}),Object(O.jsx)(ce.a,{}),r?Object(O.jsx)(Ve,{setAddVariantAttribute:a}):Object(O.jsx)(Be,{content:"No any variant added yet."})]})})]})}),Object(O.jsx)(ze,{variantImage:e.variantImage,setVariantImage:e.setVariantImage,edit:e.edit})]})},qe=function(e,t){var n={};Object(w.a)(e.productname)&&(n.productname="Provide valid product name!"),Object(w.a)(e.mpn)&&(n.mpn="Provide MPN"),e.isSimpleProduct&&(t||(console.log("AUTO SKU",t),Object(w.a)(e.sku)&&(n.sku="Provide SKU"))),Object(w.a)(e.inventoryType)&&(n.inventoryType="Provide inventory type"),Object(w.a)(e.major_weight)&&(n.major_weight="Provide major weight"),Object(w.a)(e.minor_weight)&&(n.minor_weight="Provide minor weight"),Object(w.a)(e.description)&&(n.description="Provide some description!"),Object(w.a)(e.short_description)&&(n.short_description="Provide some description!");var r,a={};return e.warehouses.forEach((function(e){var t={};Object(w.a)(e.warehouse)&&(t.warehouse="Please select warehouse."),(Object(w.a)(e.quantity)||0===e.quantity||"0"===e.quantity)&&(t.quantity="Quantity cant be empty or zero."),Object(w.a)(t)||(a[e.id]=t)})),n.warehouses=a,console.log(" productData.warehouses [err]1 ",n,Object(w.a)(n.warehouses)),Object(w.a)(n.warehouses)?delete n.warehouses:(r=Object.keys(n.warehouses).reduce((function(e,t){return Object.keys(n.warehouses[t]).length>0&&(e[t]=n.warehouses[t]),console.log("productData.warehouses [err]2",e),e}),{}),Object(w.a)(r)&&delete n.warehouses),console.log(" all product [err]3 ",n,r),{isValid:Object(w.a)(n),errors:n}},He=n(78),Xe=function(e){var t={},n=He.a.getState().settings.sku;return console.log(" sku setting ",n),Object(w.a)(e.sku)&&!n&&(t.sku="*SKU",t.id=e.id),Object(w.a)(e.name)&&(t.name="*Name",t.id=e.id),Object(w.a)(e.major_weight)&&(t.major_weight="*Major weight",t.id=e.id),Object(w.a)(e.minor_weight)&&(t.minor_weight="*Minor weight",t.id=e.id),{isValid:Object(w.a)(t),errors:t}},Ze=n(25),Qe=Object(d.b)((function(e){return{product:e.product,autoSKU:e.settings.sku,groups:e.root.productGroups,brands:e.root.brands}}),{setProductErrors:j.q,clearAddProductData:j.f,setVariantError:j.z})(Object(Ze.withRouter)((function(e){var t=l.a.useState(!1),n=Object(i.a)(t,2),r=n[0],c=n[1];console.log(" variantErrors ",e.product.variantErrors);var s=function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,i,s,l,u,d,j,b,p,h,m,f,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.product,r=e.autoSKU,e.setVariantError([]),e.setProductErrors([]),console.log(" productData.warehouses ",n.warehouses),console.log(" all product [err] ",e.product),i=new AbortController,s=i.signal,l=qe(n,r),u=l.isValid,d=l.errors,j=[],b=[],0!==e.product.varientsData.length&&e.product.varientsData.forEach((function(e){console.log(" product [err] ",e);var t=Xe(e),n=t.isValid,r=t.errors;j.push(n),b.push(r)})),console.log("errors:isValid:[varient-validation]",d,u,j,b),u){t.next=19;break}P.a.fire({icon:"warning",title:Object(S.a)("warning","Fill data properly")}),console.log(" add product errors [err] ",d),e.setProductErrors(d),t.next=35;break;case 19:if(p=!0,j.forEach((function(t,n){return console.log(" vdataaa ",t),t?p=!0:(e.setVariantError(b),P.a.fire({icon:"warning",title:Object(S.a)("warning","Fill variant data properly")}),p=!1)})),console.log(" isAllVarientValid ",p),p){t.next=24;break}return t.abrupt("return");case 24:return h=n.warehouses.map((function(e){return{warehouse:e.warehouse,quantity:e.quantity}})),m=n.sku,!r&&n.isSimpleProduct||(m=Object(y.k)(s,n,e.brands)),f=n.images.map((function(e,t){return console.log(" fp3 ",e),{image:e.image.encoded,type:e.type}})),g={is_simple_product:n.isSimpleProduct,product_group:n.group,title:n.productname,short_description:n.short_description,sku:m,description:n.description,manufacturer:n.manufacturer,brand:n.brand,price:parseInt(n.price)||0,cost:parseInt(n.cost)||0,meta:{title:n.mtitle,description:n.mdescription,keyword:n.mkeyword},weight:{weight_name:n.weight_name,major_weight:n.major_weight,minor_weight:n.minor_weight},dimension:{dimension_name:n.dimension_name,height:n.height||0,length:n.length||0,width:n.width||0},inventory:{type:n.inventoryType},stock:{type:n.stockType,manage_stock:n.manage_stock},images:f,warehouses:h,extras:n.extras},n.isSimpleProduct&&(Object(w.a)(n.asin)||(g.asin=n.asin),Object(w.a)(n.mpn)||(g.mpn=n.mpn),Object(w.a)(n.upc)||(g.upc=n.upc)),n.manage_stock||delete g.warehouses,console.log("Payload : ",g),c(!0),t.next=35,Object(y.a)(s,g).then((function(t){console.log(" product add response [variant-submit] ",t),e.setProductErrors({}),t.response.ok?(console.log(" submit variant data now[variant-submit] ",t.json.id,": props.product.varientsData :",e.product.varientsData),e.product.varientsData.length>0?(console.log(" extra variants [variant-submit] "),e.product.varientsData&&e.product.varientsData.forEach(function(){var i=Object(o.a)(a.a.mark((function o(i){var l,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(" [tess] ",i.image),l={},e.product.variant.map((function(e,t){return l=Object(ve.a)(Object(ve.a)({},l),{},Object(Me.a)({},e,Object(Re.a)(e,i)))})),console.log(" extra variants [variant-submit] ",l),u=i.sku,r&&(u=Object(y.l)(s,i,e.brands,l,n.brand)),console.log(" variantSKU3 ",u),d={product:t.json.id,name:i.name,sku:u,asin:i.asin||"",mpn:i.mpn||"",upc:i.upc||"",image:0!==i.image.length?i.image[0].image:"",major_weight:i.major_weight,cost:parseInt(i.cost)||0,price:parseInt(i.price)||0,minor_weight:i.minor_weight,extras:l},a.next=10,Object(y.n)(s,d).then((function(t){t.response.ok&&(console.log("variant ok [variant-submit]",t),P.a.fire({icon:"success",title:Object(S.a)("success","Successfully Added[variant]")}),e.clearAddProductData(),c(!1),e.history.push("/products"))})).catch((function(e){throw c(!1),console.log(" error[variant-submit] ",e),e}));case 10:case"end":return a.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}())):(e.clearAddProductData(),P.a.fire({icon:"success",title:Object(S.a)("success","Successfully Added[product data only]")}),c(!1),e.history.push("/products"))):(t.json.asin&&(e.setProductErrors({asin:t.json.asin[0]||"*not allowed"}),P.a.fire({icon:"error",title:Object(S.a)("error","Failed to add[ASIN error]")})),t.json.upc?(e.setProductErrors({upc:t.json.upc[0]||"*not allowed"}),P.a.fire({icon:"error",title:Object(S.a)("error","Failed to add[UPC error]")})):P.a.fire({icon:"error",title:Object(S.a)("error","Failed to add")}),c(!1))})).catch((function(e){throw P.a.fire({icon:"error",title:"Producd addition failed"}),c(!1),e}));case 35:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,i,s,l,u,d,j,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.product,e.autoSKU,console.log(" product [update] ",e.product.varientsData),r=new AbortController,i=r.signal,s=qe(n,e.autoSKU),l=s.isValid,u=s.errors,console.log("errors:isValid:[update]",u,l),l){t.next=13;break}P.a.fire({icon:"warning",title:Object(S.a)("warning","Fill data properly")}),console.log(" add product errors [update] ",u),e.setProductErrors(u),t.next=23;break;case 13:return n.images.map((function(e){return{image:e.base64}})),d=n.warehouses.map((function(e){return{warehouse:e.warehouse,quantity:e.quantity}})),j=n.images.map((function(e,t){return console.log(" fp3 ",e),{image:e.image.encoded,type:e.type}})),b={product_group:n.group,title:n.productname,short_description:n.short_description,description:n.description,manufacturer:n.manufacturer,brand:n.brand,meta:{title:n.mtitle,description:n.mdescription,keyword:n.mkeyword},weight:{weight_name:n.weight_name,major_weight:n.major_weight,minor_weight:n.minor_weight},dimension:{dimension_name:n.dimension_name,height:n.height||0,length:n.length||0,width:n.width||0},inventory:{type:n.inventoryType},stock:{type:n.stockType,manage_stock:n.manage_stock},images:j,warehouses:d,extras:n.extras},n.isSimpleProduct&&(b.sku=n.sku,Object(w.a)(n.asin)||(b.asin=n.asin),Object(w.a)(n.mpn)||(b.mpn=n.mpn),Object(w.a)(n.upc)||(b.upc=n.upc)),n.manage_stock||(b.warehouses=[]),console.log("Payload : ",b),c(!0),t.next=23,Object(y.o)(i,e.id,b).then((function(t){console.log(" product add response [update] ",t),e.setProductErrors({}),t.response.ok?(console.log(" submit variant data now[update] ",t.json.variants,": props.product.varientsData :",e.product.varientsData),e.product.varientsData.length>0?(console.log(" extra variants [variant-submit] "),0!==t.json.variants.length?e.product.varientsData.forEach(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},console.log(" element[elem] ",n,e.product.variant),e.product.variant.map((function(e,t){return r=Object(ve.a)(Object(ve.a)({},r),{},Object(Me.a)({},e,Object(Re.a)(e,n)))})),console.log(" extra variants [variant-update] ",r),!n.new){t.next=13;break}return console.log("newVarSku",n.sku),o={product:e.id,name:n.name,sku:n.sku,asin:n.asin,mpn:n.mpn,upc:n.upc,image:n.image&&n.image[0]?n.image[0].image.encoded:"",major_weight:n.major_weight,minor_weight:n.minor_weight,cost:n.cost,price:n.price,extras:r},t.next=9,Object(y.n)(i,o).then((function(e){e.response.ok&&(console.log("variant ok [variant-submit-update]",e),P.a.fire({icon:"success",title:Object(S.a)("success","Successfully Added[variant-submit-update]")}),c(!1),window.scrollTo(0,0))})).catch((function(e){throw c(!1),console.log(" error[variant-submit] ",e),e}));case 9:console.log(" updating new variant "),c(!1),t.next=16;break;case 13:return s={id:n.id,product:e.id,name:n.name,sku:n.sku,asin:n.asin,mpn:n.mpn,upc:n.upc,image:n.image&&n.image[0]?n.image[0].image.encoded:"",major_weight:n.major_weight,minor_weight:n.minor_weight,cost:n.cost,price:n.price,extras:r},t.next=16,Object(y.p)(i,"".concat(n.id,"/"),s).then((function(e){e.response.ok?(console.log("variant ok [variant-submit]",e),P.a.fire({icon:"success",title:Object(S.a)("success","Successfully Added[from variant]")}),c(!1),window.scrollTo(0,0)):(c(!1),P.a.fire({icon:"error",title:Object(S.a)("error","Failed to update new variant")}))})).catch((function(e){c(!1),console.log(" error[variant-submit] ",e),P.a.fire({icon:"success",title:Object(S.a)("error",e)})}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e.product.varientsData.forEach(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},console.log(" element new[elem] ",n),e.product.variant.map((function(e,t){return r=Object(ve.a)(Object(ve.a)({},r),{},Object(Me.a)({},e,Object(Re.a)(e,n)))})),console.log(" extra variants new [elem] ",r),o={product:e.id,name:n.name,sku:n.sku,asin:n.asin,mpn:n.mpn,upc:n.upc,image:n.image[0]?n.image[0].image:[],major_weight:n.major_weight,minor_weight:n.minor_weight,extras:r},t.next=7,Object(y.n)(i,o).then((function(e){e.response.ok?(P.a.fire({icon:"success",title:Object(S.a)("success","Successfully updated")}),c(!1)):(P.a.fire({icon:"error",title:Object(S.a)("error","Failed to update[add new var]")}),c(!1))})).catch((function(e){P.a.fire({icon:"error",title:Object(S.a)("error","Failed to update[add new var]")}),c(!1)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(e.clearAddProductData(),P.a.fire({icon:"success",title:Object(S.a)("success","Successfully Added[from product]")}),c(!1),e.history.push("/products"))):(P.a.fire({icon:"error",title:Object(S.a)("error","Failed to add")}),c(!1))})).catch((function(e){throw P.a.fire({icon:"error",title:"Producd addition failed"}),c(!1),e}));case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.P,{children:[e.edit?null:Object(O.jsx)(u.j,{sm:"2",md:"2",children:Object(O.jsx)(u.d,{disabled:r,block:!0,onClick:function(){console.log(" discard ")},style:{background:"white",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.05)"},children:"Discard"})}),Object(O.jsx)(u.j,{sm:"2",md:"2",children:e.edit?Object(O.jsx)(u.d,{disabled:r,onClick:d,block:!0,color:"warning",children:r?Object(O.jsx)(u.X,{color:"secondary",size:"sm"}):Object(O.jsx)("span",{style:{color:"white"},children:"Update & Finish"})}):Object(O.jsx)(u.d,{disabled:r,onClick:s,block:!0,color:"warning",children:r?Object(O.jsx)(u.X,{color:"secondary",size:"sm"}):Object(O.jsx)("span",{style:{color:"white"},children:"Save & Finish"})})})]})})}))),Ye=function(e){var t=e.x,n=e.y;return Object(O.jsx)("div",{className:"my-"+n+" mx-"+t})},Je=Ye;Ye.defaultProps={x:0,y:0};var $e=["fields","title","edit","extrasWithAttributes","productGroups","currentProductGroupID"],et=function(e){var t=e.fields,n=e.title,r=e.edit,a=e.extrasWithAttributes,c=e.productGroups,o=e.currentProductGroupID,l=Object(oe.a)(e,$e),d=Object(s.useState)([]),j=Object(i.a)(d,2),h=j[0],m=j[1],f=function(e){return e.map((function(e,t){return{id:t,name:e.value}}))},g=function(e,t){l.changeProductExtrasInput(e,t)};return Object(s.useEffect)((function(){a.forEach((function(e){var t=e.value,n=e.attribute;g(n.slug,t)}))}),[a]),Object(s.useEffect)((function(){var e=c.find((function(e){return e.id===o}));if(e){var t=a.map((function(e){return e.attribute.id})),n=e.fields.filter((function(e){return!t.includes(e.id)}));m(n)}}),[a,c]),Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsxs)("h4",{className:"outside-card-title mb-4",children:[n," Attributes"]}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsx)(u.f,{children:r?Object(O.jsxs)("div",{children:[Object(O.jsx)(u.P,{children:a.map((function(e){e.value;var t=e.attribute;return Object(O.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:"enum"===t.datatype?Object(O.jsx)(p.a,{label:t.name,name:t.slug,placeholder:"Enter ".concat(t.name),options:f(t.enum_group.values),onChange:function(e){g(t.slug,e.name)},selectValueByLabel:!0,valueByLabel:l.extras[t.slug]}):Object(O.jsx)(b.a,{label:t.name,name:t.slug,placeholder:"Enter ".concat(t.name),onChange:function(e){g(t.slug,e.target.value)},value:l.extras[t.slug]})})}))}),Object(w.a)(h)?null:Object(O.jsx)("div",{children:Object(O.jsx)(u.P,{children:h.map((function(e){return Object(O.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:"enum"===e.datatype?Object(O.jsx)(p.a,{label:e.name,name:e.slug,placeholder:"Enter ".concat(e.name),options:f(e.enum_group.values),onChange:function(t){g(e.slug,t.name)},selectValueByLabel:!0,valueByLabel:l.extras[e.slug]}):Object(O.jsx)(b.a,{label:e.name,name:e.slug,placeholder:"Enter ".concat(e.name),onChange:function(t){g(e.slug,t.target.value)},value:l.extras[e.slug]})})}))})})]}):Object(O.jsx)(u.P,{children:t.map((function(e){return Object(O.jsx)(u.j,{xs:"12",md:"6",lg:"4",children:"enum"===e.datatype?Object(O.jsx)(p.a,{label:e.name,name:e.slug,placeholder:"Enter ".concat(e.name),options:f(e.enum_group.values),onChange:function(t){g(e.slug,t.name)},selectValueByLabel:!0,valueByLabel:l.extras[e.slug]}):Object(O.jsx)(b.a,{label:e.name,name:e.slug,placeholder:"Enter ".concat(e.name),onChange:function(t){g(e.slug,t.target.value)},value:l.extras[e.slug]})})}))})})})]})})};et.defaultProps={edit:!1};var tt=Object(d.b)((function(e){return{extrasWithAttributes:e.product.extras_with_attributes||[],extras:e.product.extras,productGroups:e.root.productGroups,currentProductGroupID:e.product.group}}),{changeProductExtrasInput:j.c})(et),nt=["edit"],rt=function(e){var t=e.edit,n=Object(oe.a)(e,nt).productGroup,r=Object(s.useState)([]),a=Object(i.a)(r,2),c=a[0],o=a[1],l=Object(s.useState)(""),u=Object(i.a)(l,2),d=u[0],j=u[1];return Object(s.useEffect)((function(){n&&n.fields&&n.fields.length>0?(console.log("Fetching Fields : ",n),o(n.fields),j(n.name)):(o([]),j(""))}),[n]),Object(O.jsx)(O.Fragment,{children:Object(w.a)(c)?null:Object(O.jsx)(tt,{fields:c,title:d,edit:t})})};rt.defaultProps={edit:!1};var at=Object(d.b)((function(e){var t=e.product.group,n=null;return Object(w.a)(t)||(n=e.root.productGroups.filter((function(e){return e.id===t}))[0]),{productGroup:n}}),null)(rt),ct=n(738),ot=Object(d.b)((function(e){return{product:e.product}}),{changeProductInput:j.d})((function(e){var t=function(t){console.log(" pricing change",t.target.name," : ",t.target.value),e.changeProductInput(t.target.name,t.target.value)};return Object(O.jsx)(u.P,{children:Object(O.jsxs)(u.j,{xs:"12",md:"12",className:"mb-4",children:[Object(O.jsx)("h4",{className:"outside-card-title mb-4",children:"Pricing"}),Object(O.jsx)(u.e,{className:"addpro-custom-card sm-pd",children:Object(O.jsxs)(u.f,{children:[Object(O.jsx)(u.u,{children:Object(O.jsxs)(u.P,{children:[Object(O.jsx)(u.j,{md:"6",xs:"12",children:Object(O.jsx)(b.a,{value:e.product.cost,onChange:function(e){t(e)},name:"cost",label:"Cost",placeholder:"Cost of Product",error:e.product.errors.cost,type:"number"})}),Object(O.jsx)(u.j,{md:"6",xs:"12",children:Object(O.jsx)(b.a,{value:e.product.price,onChange:function(e){t(e)},name:"price",label:"Price",placeholder:"Price of Product",error:e.product.errors.price,type:"number"})})]})}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{src:je.a,alt:"Info",style:{paddingRight:"0.5rem"}}),Object(O.jsx)("span",{children:"If nothing provided, defaults to 0."})]})]})})]})})}));t.default=Object(d.b)((function(e){return{product:e.product,settings:e.settings}}),{setAllProductInput:j.n,addVriantProductState:j.b,setVariantModel:j.A,setLoader:A.a,clearAddProductData:j.f,setDefaults:j.o})((function(e){console.log(" product [edit] ",e.edit,e);var t=Object(s.useState)([]),n=Object(i.a)(t,2),r=n[0],l=n[1],u=Object(s.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(s.useEffect)((function(){Object(o.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setDefaults(),!e.match.params.id){t.next=11;break}return console.log("edit product form"),n=new AbortController,r=n.signal,e.setLoader(!0),l([]),t.next=9,Object(y.j)(r,e.match.params.id).then(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,i,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.response.ok?(console.log(" product response ",n),e.setLoader(!1),r=e.product.variantModel.map((function(e){return e.toLowerCase()})),console.log(" var mode[test] ",r),o=n.json.variants,i=[],0!==o.length&&(i=Object.keys(o[0]).map((function(e,t){return"product"===e||"values"===e||"extras"===e?null:e.split("_").join(" ").toLowerCase()})).filter((function(e){return null!==e})),null!==(s=o[0].extras)&&((u=i).splice.apply(u,[2,0].concat(Object(c.a)(Object.keys(s)))),console.log(" extras [edit] ",s)),console.log(" variant [edit] ",o),e.setVariantModel(i)),console.log(" varmod  ",i),l(n.json.images),e.setAllProductInput(n.json),console.log("PRODUCT RESPONSE ---",n.json)):e.setLoader(!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){throw e.setLoader(!1),console.log("err[edit]",t),t}));case 9:t.next=13;break;case 11:console.log(" add product form [edit] "),e.clearAddProductData();case 13:case"end":return t.stop()}}),t)})))()}),[e.match.params.id]),console.log(" product state data ",e.product.extras),Object(O.jsxs)(O.Fragment,{children:[e.settings.topLoader?Object(O.jsx)(ct.a,{}):null,Object(O.jsxs)("form",{children:[Object(O.jsx)(E,{edit:e.edit}),Object(O.jsx)(he,{edit:e.edit}),Object(O.jsx)(at,{edit:e.edit}),Object(O.jsx)(ae,{}),Object(O.jsx)(ge,{}),Object(O.jsx)(De,{imageFiles:r,setImages:function(e,t){l(t?e:function(t){return t.concat(e)})},edit:e.edit}),Object(O.jsx)(ot,{}),Object(O.jsx)(_e,{}),Object(O.jsx)(We,{variantImage:j,setVariantImage:function(e){console.log("image[var-img]",e),b(e)},edit:e.edit}),Object(O.jsx)(Qe,{edit:e.edit,id:e.match.params.id}),Object(O.jsx)(Je,{y:5})]})]})}))}}]);
//# sourceMappingURL=9.b1090520.chunk.js.map