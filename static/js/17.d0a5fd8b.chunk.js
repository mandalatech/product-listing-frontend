(this["webpackJsonpproduct-listing-frontend"]=this["webpackJsonpproduct-listing-frontend"]||[]).push([[17],{675:function(e,t,a){"use strict";t.a=a.p+"static/media/view.ba2eff2b.svg"},676:function(e,t,a){"use strict";t.a=a.p+"static/media/edit.a2e87322.svg"},677:function(e,t,a){"use strict";t.a=a.p+"static/media/trash.f88bd880.svg"},713:function(e,t,a){"use strict";var n=a(102),r=a.n(n).a.mixin({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});t.a=r},818:function(e,t,a){},851:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(8),i=a(2),s=a.n(i),o=a(667),l=a(665),d=a(714),u=a(16);function p(e){var t=e.name,a=e.selectValueByLabel,n=e.valueByLabel,r=e.value,c=e.onChange,i=e.options;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d.a,{name:t,onChange:c,value:a?i.filter((function(e){return e.label===n})):i.filter((function(e){return e.value===r})),options:i,placeholder:"Select.."})})}var j=a(669),h=a(26),b=a(99),f=a(184),x=a(75),m=a(98),g=a(5),y=a(767),O=a(721);var v=Object(m.b)((function(e){return{productHeaderList:e.product.productHeaderList}}),{setProductList:x.x,setProductHeaders:x.v})(Object(h.h)((function(e){var t=s.a.useState(""),a=Object(o.a)(t,2),n=a[0],i=a[1],d=b.a.getState().product.productList,h=s.a.useState([]),x=Object(o.a)(h,2),m=(x[0],x[1],s.a.useState([])),v=Object(o.a)(m,2),w=(v[0],v[1],function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new AbortController,c=n.signal,console.log(" search data ",a),b.a.dispatch({type:g.r,payload:!0}),t.next=6,Object(f.l)(c,"&title=".concat(a)).then((function(t){t.response.ok?(b.a.dispatch({type:g.r,payload:!1}),e.setProductList(t.json)):(console.log("res[search]",t),b.a.dispatch({type:g.r,payload:!1}))})).catch((function(e){console.log("err[search]",e),b.a.dispatch({type:g.r,payload:!1})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),k=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(" [prod-filter] ",n,d),c="",s="with variants"===a.label?"yes":"without variants"===a.label?"no":"",c="all"===a.label?"":"&has_variant=".concat(s),b.a.dispatch({type:g.r,payload:!0}),t.next=7,Object(f.i)(c).then((function(t){console.log(" filter values ",t),t.response.ok?(b.a.dispatch({type:g.r,payload:!1}),e.setProductList(t.json)):(b.a.dispatch({type:g.r,payload:!1}),console.log(" filter not success "))})).catch((function(e){throw b.a.dispatch({type:g.r,payload:!1}),console.log("err",e),e}));case 7:i(a.label);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.T,{className:"c-row",children:Object(u.jsx)(l.k,{md:"12",children:Object(u.jsx)("h5",{className:"outside-card-title",children:"All Products"})})}),Object(u.jsxs)(l.T,{className:"c-row",children:[Object(u.jsxs)(l.k,{md:"2",className:"c-row",style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(u.jsx)("div",{style:{display:"flex",flex:.2},children:Object(u.jsx)(O.a,{style:{fontSize:"40px",color:"blue"}})}),Object(u.jsx)(y.Multiselect,{style:{chips:{display:"none"},multiselectContainer:{maxWidth:"120px"}},id:"custom_checkbox",showCheckbox:!0,placeholder:"Edit column....",options:[{name:"id",id:1},{name:"image",id:2},{name:"name",id:3},{name:"description",id:4},{name:"cost",id:5},{name:"price",id:6},{name:"sku",id:7},{name:"variants",id:8},{name:"producttype",id:9},{name:"inventorytype",id:10}],selectedValues:e.productHeaderList,onSelect:function(t,a){console.log("select[multiselect]",a,t),e.setProductHeaders(t)},onRemove:function(t,a){console.log("remove[multiselect]",t,a),e.setProductHeaders(t)},displayValue:"name"})]}),Object(u.jsx)(l.k,{md:"4",children:Object(u.jsxs)(l.F,{children:[Object(u.jsx)(l.H,{children:Object(u.jsx)(l.I,{style:{backgroundColor:"#ffffff"},children:Object(u.jsx)(j.a,{name:"cil-magnifying-glass"})})}),Object(u.jsx)(l.D,{onChange:function(e){return w(e.target.value)},placeholder:"Search Product"})]})}),Object(u.jsxs)(l.k,{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},md:"6",children:[Object(u.jsx)("span",{style:{fontSize:"15px",fontWeight:400},children:"Filter by :"}),Object(u.jsx)(l.k,{md:"5",children:Object(u.jsx)(p,{label:"Filter by :",name:"product_filter",value:n,onChange:k,selectValueByLabel:!0,valueByLabel:n,options:[{label:"with variants",value:"with_variant"},{label:"without variants",value:"without_variants"},{label:"all",value:"all"}]})}),Object(u.jsx)(l.k,{md:"4",children:Object(u.jsx)(l.d,{block:!0,color:"warning",onClick:function(){e.history.push("/add-products")},children:Object(u.jsx)("span",{style:{color:"#fff",fontWeight:600},children:"+ \xa0Add Product"})})})]})]})]})}))),w=a(68),k=a(76),C=a(1),F=a(770),L=a.n(F),P=a(808),S=a.n(P),_=(a(816),a(675)),A=a(676),D=a(677),E=a(713),T=a(102),R=a.n(T);function I(e){var t=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.fire().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=3;break}return e.next=3,Object(f.e)(t).then((function(e){if(e.response.ok){var a=b.a.getState().product.productList.filter((function(e){return e.id!==t}));console.log(" filteredProductList ",a),b.a.dispatch({type:g.q,payload:a}),R.a.fire("Deleted!","Product has been deleted.","success")}else R.a.fire("Failed!","Product deletion failed!","error")})).catch((function(e){R.a.fire("Failed!",e.message,"error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(" del modal err ",e),R.a.fire("Failed!",e.message,"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)(l.d,{title:"View Product",children:Object(u.jsx)("img",{src:_.a,alt:"View"})}),Object(u.jsx)(l.d,{onClick:function(){return e.history.push("/products/"+e.id)},title:"Edit Product",children:Object(u.jsx)("img",{src:A.a,alt:"View"})}),Object(u.jsx)(l.d,{onClick:function(){return t(e.id)},title:"Delete Product",children:Object(u.jsx)("img",{src:D.a,alt:"View"})})]})}var B=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h3",{className:"display-5",style:{fontSize:"1em",textAlign:"center",marginTop:"5vh"},children:e.children})})},N=a(178);a(817),a(818);function V(){return Object(u.jsxs)("div",{class:"lds-ring",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})}var H=Object(m.b)((function(e){return{product:e.product}}),{})(Object(h.h)((function(e){var t=e.product.productHeaderList.map((function(e,t){return Object(C.a)(Object(C.a)({},e),{},{dataField:e.name,text:"producttype"===e.name?"Product type":"inventorytype"===e.name?"Inventory type":e.name,sort:!0,headerAlign:"left",headerStyle:function(t,a){return{width:"description"===e.name?"250px":"100px",textAlign:"center"}}})})),a=[].concat(Object(k.a)(t),[{dataField:"actions",text:"Actions",isDummyField:!0,csvExport:!1,formatter:function(t,a){return Object(u.jsx)(I,{history:e.history,id:a.id})},headerStyle:function(e,t){return{width:"100px",textAlign:"center"}}}]),n=[{dataField:"id",text:"Id"},{dataField:"name",text:"Name"},{dataField:"sku",text:"SKU"},{dataField:"mpn",text:"MPN"},{dataField:"asin",text:"ASIN"},{dataField:"upc",text:"UPC"},{dataField:"major_weight",text:"Weight-a"},{dataField:"minor_weight",text:"Weight-b"}],r=[];e.product.productList&&e.product.productList.forEach((function(e,t){console.log(" data.images ",e.images,e.title),r.push({id:e.id,image:0!==e.images.length&&e.images[0].image?Object(u.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(u.jsx)("object",{style:{width:"100%",height:"100%"},data:e.images[0].image.url,type:"image/png",children:Object(u.jsx)("img",{src:e.images[0].image.url,style:{width:"100%",height:"100%"}})})}):Object(u.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(u.jsx)("img",{src:"https://www.saffronwaldenprinting.com/global/images/PublicShop/ProductSearch/prodgr_default_300.png",style:{width:"100%",height:"100%"}})}),name:e.title,description:e.short_description,cost:e.cost,price:e.price,sku:e.sku,producttype:e.is_simple_product?Object(u.jsx)(l.a,{style:Object(w.a)({width:"75px",backgroundColor:"#6699ff",padding:"px",color:"white",fontWeight:600},"padding","5px"),children:"SIMPLE"}):Object(u.jsx)(l.a,{style:Object(w.a)({width:"75px",backgroundColor:"#ff3300",padding:"5px",color:"white",fontWeight:600},"padding","5px"),children:"CONFIG"}),inventorytype:e.inventory?Object(u.jsx)(l.a,{style:{width:"75px",backgroundColor:"VIRTUAL"===e.inventory.type?"#fcbc40":(e.inventory.type,"#07b963"),padding:"5px",color:"white",fontWeight:600},children:e.inventory.type.toUpperCase()}):"-",variants:e.variants.length||"",actions:"-",variantData:e.variants})}));var c={renderer:function(e){return Object(u.jsxs)(u.Fragment,{children:[console.log(" rooo : ",e.variantData),Object(u.jsx)("br",{}),Object(u.jsx)(L.a,{keyField:"id",data:e.variantData,columns:n,rowClasses:"VariantRow",hover:!0,bordered:!0}),Object(N.a)(e.variantData)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(B,{children:"Variants not available"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})}};return Object(u.jsx)(l.T,{className:"prod-table-container",children:Object(u.jsx)(l.e,{className:"table-card",children:Object(u.jsx)(l.f,{children:Object(u.jsx)(L.a,{keyField:"id",hover:!1,rowClasses:"CustomRow",headerClasses:"HeaderClass",bordered:!1,data:r,columns:a,expandRow:c,wrapperClasses:"table-responsive",noDataIndication:function(){return Object(u.jsx)(u.Fragment,{children:e.product.productTableLoader?Object(u.jsx)(V,{}):Object(u.jsx)(B,{children:"Products not available"})})},pagination:S()()})})})})}))),W=a(126);a(705),t.default=Object(m.b)((function(e){return{settings:e.settings,product:e.product}}),{setProductList:x.x,setLoader:W.a,setDefaults:x.o})((function(e){return s.a.useEffect((function(){window.scrollTo(0,0)})),s.a.useEffect(Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(c.a)(r.a.mark((function t(){var a,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new AbortController,n=a.signal,e.setDefaults(),b.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!0}),e.setLoader(!0),t.next=7,Object(f.h)(n);case 7:(c=t.sent).response.ok?(e.setLoader(!1),console.log(" fetched product data  ",c.json),e.setProductList(c.json),b.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1})):(e.setLoader(!1),b.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1}));case 9:case"end":return t.stop()}}),t)})))();case 2:case"end":return t.stop()}}),t)}))),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{}),Object(u.jsx)(H,{})]})}))}}]);
//# sourceMappingURL=17.d0a5fd8b.chunk.js.map