(this["webpackJsonpproduct-listing-frontend"]=this["webpackJsonpproduct-listing-frontend"]||[]).push([[17],{675:function(e,t,a){"use strict";t.a=a.p+"static/media/view.ba2eff2b.svg"},676:function(e,t,a){"use strict";t.a=a.p+"static/media/edit.a2e87322.svg"},677:function(e,t,a){"use strict";t.a=a.p+"static/media/trash.f88bd880.svg"},712:function(e,t,a){"use strict";var n=a(102),r=a.n(n).a.mixin({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});t.a=r},805:function(e,t,a){},851:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(8),i=a(2),s=a.n(i),o=a(98),l=a(184),d=a(75),u=a(126),p=a(99),j=a(68),h=a(76),b=a(1),f=a(665),x=a(757),m=a.n(x),g=a(795),y=a.n(g),O=(a(803),a(675)),v=a(676),w=a(677),k=a(712),C=a(5),F=a(102),L=a.n(F),P=a(16);function S(e){var t=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.fire().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=3;break}return e.next=3,Object(l.e)(t).then((function(e){if(e.response.ok){var a=p.a.getState().product.productList.filter((function(e){return e.id!==t}));console.log(" filteredProductList ",a),p.a.dispatch({type:C.q,payload:a}),L.a.fire("Deleted!","Product has been deleted.","success")}else L.a.fire("Failed!","Product deletion failed!","error")})).catch((function(e){L.a.fire("Failed!",e.message,"error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(" del modal err ",e),L.a.fire("Failed!",e.message,"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(f.d,{title:"View Product",children:Object(P.jsx)("img",{src:O.a,alt:"View"})}),Object(P.jsx)(f.d,{onClick:function(){return e.history.push("/products/"+e.id)},title:"Edit Product",children:Object(P.jsx)("img",{src:v.a,alt:"View"})}),Object(P.jsx)(f.d,{onClick:function(){return t(e.id)},title:"Delete Product",children:Object(P.jsx)("img",{src:w.a,alt:"View"})})]})}var _=function(e){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("h3",{className:"display-5",style:{fontSize:"1em",textAlign:"center",marginTop:"5vh"},children:e.children})})},A=a(178),D=a(26);a(804),a(805);function E(){return Object(P.jsxs)("div",{class:"lds-ring",children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{})]})}var T=Object(o.b)((function(e){return{product:e.product}}),{})(Object(D.h)((function(e){var t=e.product.productHeaderList.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{dataField:e.name,text:"producttype"===e.name?"Product type":"inventorytype"===e.name?"Inventory type":e.name,sort:!0,headerAlign:"left",headerStyle:function(t,a){return{width:"description"===e.name?"250px":"100px",textAlign:"center"}}})})),a=[].concat(Object(h.a)(t),[{dataField:"actions",text:"Actions",isDummyField:!0,csvExport:!1,formatter:function(t,a){return Object(P.jsx)(S,{history:e.history,id:a.id})},headerStyle:function(e,t){return{width:"100px",textAlign:"center"}}}]),n=[{dataField:"id",text:"Id"},{dataField:"name",text:"Name"},{dataField:"sku",text:"SKU"},{dataField:"mpn",text:"MPN"},{dataField:"asin",text:"ASIN"},{dataField:"upc",text:"UPC"},{dataField:"major_weight",text:"Weight-a"},{dataField:"minor_weight",text:"Weight-b"}],r=[];e.product.productList&&e.product.productList.forEach((function(e,t){console.log(" data.images ",e.images,e.title),r.push({id:e.id,image:0!==e.images.length&&e.images[0].image?Object(P.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(P.jsx)("object",{style:{width:"100%",height:"100%"},data:e.images[0].image.url,type:"image/png",children:Object(P.jsx)("img",{src:e.images[0].image.url,style:{width:"100%",height:"100%"}})})}):Object(P.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",margin:"0px",borderRadius:"10px",backgroundColor:"#F4F4F4"},children:Object(P.jsx)("img",{src:"https://www.saffronwaldenprinting.com/global/images/PublicShop/ProductSearch/prodgr_default_300.png",style:{width:"100%",height:"100%"}})}),name:e.title,description:e.short_description,cost:e.cost,price:e.price,sku:e.sku,producttype:e.is_simple_product?Object(P.jsx)(f.a,{style:Object(j.a)({width:"75px",backgroundColor:"#6699ff",padding:"px",color:"white",fontWeight:600},"padding","5px"),children:"SIMPLE"}):Object(P.jsx)(f.a,{style:Object(j.a)({width:"75px",backgroundColor:"#ff3300",padding:"5px",color:"white",fontWeight:600},"padding","5px"),children:"CONFIG"}),inventorytype:e.inventory?Object(P.jsx)(f.a,{style:{width:"75px",backgroundColor:"VIRTUAL"===e.inventory.type?"#fcbc40":(e.inventory.type,"#07b963"),padding:"5px",color:"white",fontWeight:600},children:e.inventory.type.toUpperCase()}):"-",variants:e.variants.length||"",actions:"-",variantData:e.variants})}));var c={renderer:function(e){return Object(P.jsxs)(P.Fragment,{children:[console.log(" rooo : ",e.variantData),Object(P.jsx)("br",{}),Object(P.jsx)(m.a,{keyField:"id",data:e.variantData,columns:n,rowClasses:"VariantRow",hover:!0,bordered:!0}),Object(A.a)(e.variantData)&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_,{children:"Variants not available"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]})]})}};return Object(P.jsx)(f.T,{className:"prod-table-container",children:Object(P.jsx)(f.e,{className:"table-card",children:Object(P.jsx)(f.f,{children:Object(P.jsx)(m.a,{keyField:"id",hover:!1,rowClasses:"CustomRow",headerClasses:"HeaderClass",bordered:!1,data:r,columns:a,expandRow:c,wrapperClasses:"table-responsive",noDataIndication:function(){return Object(P.jsx)(P.Fragment,{children:e.product.productTableLoader?Object(P.jsx)(E,{}):Object(P.jsx)(_,{children:"Products not available"})})},pagination:y()()})})})})}))),R=a(667),I=a(669),B=a(806),N=a(734),V=a(713);function H(e){var t=e.name,a=e.selectValueByLabel,n=e.valueByLabel,r=e.value,c=e.onChange,i=e.options;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(V.a,{name:t,onChange:c,value:a?i.filter((function(e){return e.label===n})):i.filter((function(e){return e.value===r})),options:i,placeholder:"Select.."})})}var W=Object(o.b)((function(e){return{productHeaderList:e.product.productHeaderList}}),{setProductList:d.x,setProductHeaders:d.v})(Object(D.h)((function(e){var t=s.a.useState(""),a=Object(R.a)(t,2),n=a[0],i=a[1],o=p.a.getState().product.productList,d=s.a.useState([]),u=Object(R.a)(d,2),j=(u[0],u[1],s.a.useState([])),h=Object(R.a)(j,2),b=(h[0],h[1],function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new AbortController,c=n.signal,console.log(" search data ",a),p.a.dispatch({type:C.r,payload:!0}),t.next=6,Object(l.l)(c,"&title=".concat(a)).then((function(t){t.response.ok?(p.a.dispatch({type:C.r,payload:!1}),e.setProductList(t.json)):(console.log("res[search]",t),p.a.dispatch({type:C.r,payload:!1}))})).catch((function(e){console.log("err[search]",e),p.a.dispatch({type:C.r,payload:!1})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(" [prod-filter] ",n,o),c="",s="with variants"===a.label?"yes":"without variants"===a.label?"no":"",c="all"===a.label?"":"&has_variant=".concat(s),p.a.dispatch({type:C.r,payload:!0}),t.next=7,Object(l.i)(c).then((function(t){console.log(" filter values ",t),t.response.ok?(p.a.dispatch({type:C.r,payload:!1}),e.setProductList(t.json)):(p.a.dispatch({type:C.r,payload:!1}),console.log(" filter not success "))})).catch((function(e){throw p.a.dispatch({type:C.r,payload:!1}),console.log("err",e),e}));case 7:i(a.label);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(f.T,{className:"c-row",children:Object(P.jsx)(f.k,{md:"12",children:Object(P.jsx)("h5",{className:"outside-card-title",children:"All Products"})})}),Object(P.jsxs)(f.T,{className:"c-row",children:[Object(P.jsxs)(f.k,{md:"2",className:"c-row",style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(P.jsx)("div",{style:{display:"flex",flex:.2},children:Object(P.jsx)(N.a,{style:{fontSize:"40px",color:"blue"}})}),Object(P.jsx)(B.Multiselect,{style:{chips:{display:"none"},multiselectContainer:{maxWidth:"120px"}},id:"custom_checkbox",showCheckbox:!0,placeholder:"Edit column....",options:[{name:"id",id:1},{name:"image",id:2},{name:"name",id:3},{name:"description",id:4},{name:"cost",id:5},{name:"price",id:6},{name:"sku",id:7},{name:"variants",id:8},{name:"producttype",id:9},{name:"inventorytype",id:10}],selectedValues:e.productHeaderList,onSelect:function(t,a){console.log("select[multiselect]",a,t),e.setProductHeaders(t)},onRemove:function(t,a){console.log("remove[multiselect]",t,a),e.setProductHeaders(t)},displayValue:"name"})]}),Object(P.jsx)(f.k,{md:"4",children:Object(P.jsxs)(f.F,{children:[Object(P.jsx)(f.H,{children:Object(P.jsx)(f.I,{style:{backgroundColor:"#ffffff"},children:Object(P.jsx)(I.a,{name:"cil-magnifying-glass"})})}),Object(P.jsx)(f.D,{onChange:function(e){return b(e.target.value)},placeholder:"Search Product"})]})}),Object(P.jsxs)(f.k,{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},md:"6",children:[Object(P.jsx)("span",{style:{fontSize:"15px",fontWeight:400},children:"Filter by :"}),Object(P.jsx)(f.k,{md:"5",children:Object(P.jsx)(H,{label:"Filter by :",name:"product_filter",value:n,onChange:x,selectValueByLabel:!0,valueByLabel:n,options:[{label:"with variants",value:"with_variant"},{label:"without variants",value:"without_variants"},{label:"all",value:"all"}]})}),Object(P.jsx)(f.k,{md:"4",children:Object(P.jsx)(f.d,{block:!0,color:"warning",onClick:function(){e.history.push("/add-products")},children:Object(P.jsx)("span",{style:{color:"#fff",fontWeight:600},children:"+ \xa0Add Product"})})})]})]})]})})));t.default=Object(o.b)((function(e){return{settings:e.settings,product:e.product}}),{setProductList:d.x,setLoader:u.a,setDefaults:d.o})((function(e){return s.a.useEffect((function(){window.scrollTo(0,0)})),s.a.useEffect(Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(c.a)(r.a.mark((function t(){var a,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new AbortController,n=a.signal,e.setDefaults(),p.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!0}),e.setLoader(!0),t.next=7,Object(l.h)(n);case 7:(c=t.sent).response.ok?(e.setLoader(!1),console.log(" fetched product data  ",c.json),e.setProductList(c.json),p.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1})):(e.setLoader(!1),p.a.dispatch({type:"SET_PROD_TABLE_LOADER",payload:!1}));case 9:case"end":return t.stop()}}),t)})))();case 2:case"end":return t.stop()}}),t)}))),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(W,{}),Object(P.jsx)(T,{})]})}))}}]);
//# sourceMappingURL=17.ab044db1.chunk.js.map